{"ast":null,"code":"import React,{useRef,useEffect,useState}from\"react\";import ExportPdfButton from\"../Buttons/exportPdf\";import PreviewPdfButton from\"../Buttons/previewPDF\";import useRowContextMenu from\"../ContextMenu/useRowContextMenu\";import MultiSelectDonos from\"../MultiSelectDonos\";import\"./styleTemplates.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Template2(_ref){let{isEditable=false,// Nova prop para controlar editabilidade (começa não-editável)\nsetIsEditable,// Nova prop para alterar estado de editabilidade\ncanEdit=true,// Nova prop para controlar se pode editar (permissões)\nisSuperAdmin=false,// Nova prop para controlar se é SuperAdmin (pode mudar dono processo)\ndata=[[\"\",\"\"]],handleChange,handleAtividadesChange,handleIndicadoresChange,donoProcesso=\"\",setDonoProcesso,donoProcessoOriginal=\"\",objetivoProcesso=\"\",setObjetivoProcesso,atividades=[[\"\",\"\",\"\",\"\",\"\",\"\"],[\"\",\"\",\"\",\"\",\"\",\"\"],[\"\",\"\",\"\",\"\",\"\",\"\"],[\"\",\"\",\"\",\"\",\"\",\"\"]],indicadores=[\"\"],servicosEntrada=\"\",setServicosEntrada,servicoSaida=\"\",setServicoSaida,funcionarios=[],getTablesHtml,onMoveAtividadeUp,onMoveAtividadeDown,onInsertAtividadeAbove,onInsertAtividadeBelow,onDeleteAtividade,// Props para manipulação de indicadores\nonMoveIndicadorUp,onMoveIndicadorDown,onInsertIndicadorAbove,onInsertIndicadorBelow,onDeleteIndicador,// Props adicionais para ExportPdfButton\npathFilename=\"\",onSaveSuccess,history=[],// Novo parâmetro para histórico\nclearHistory// Nova prop para função de limpar histórico\n}=_ref;// Log do histórico para debug\nconsole.log('Histórico:',history);// Refs para textareas auto-resize\nconst textAreaRefs=useRef({});// Hook para o context menu das atividades\nconst contextMenuAtividades=useRowContextMenu({totalRows:atividades.length,onMoveRowUp:onMoveAtividadeUp,onMoveRowDown:onMoveAtividadeDown,onInsertRowAbove:onInsertAtividadeAbove,onInsertRowBelow:onInsertAtividadeBelow,onDeleteRow:onDeleteAtividade});// Hook para o context menu dos indicadores (dinâmico)\nconst contextMenuIndicadores=useRowContextMenu({totalRows:Array.isArray(indicadores)?indicadores.length:3,onMoveRowUp:onMoveIndicadorUp,onMoveRowDown:onMoveIndicadorDown,onInsertRowAbove:onInsertIndicadorAbove,onInsertRowBelow:onInsertIndicadorBelow,onDeleteRow:onDeleteIndicador});// Verifica se o dono do processo foi alterado\nconst donoProcessoAlterado=donoProcesso!==donoProcessoOriginal;// Função para gerar HTML das tabelas para PDF\nconst generateTablesHtml=()=>{// Escapa caracteres especiais no HTML\nconst escapeHtml=text=>{if(!text||typeof text!=='string')return'';return text.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\"/g,'&quot;').replace(/'/g,'&#039;').replace(/\\n/g,'<br>');};const mainTableHtml=\"\\n      <style>\\n        table {\\n          width: 100%;\\n          border-collapse: collapse;\\n          margin-bottom: 20px;\\n          font-family: Arial, sans-serif;\\n          font-size: 11px;\\n        }\\n        th, td {\\n          border: 1px solid #000;\\n          padding: 6px 8px;\\n          text-align: left;\\n          vertical-align: top;\\n          word-wrap: break-word;\\n        }\\n        th {\\n          background-color: #f0f0f0;\\n          font-weight: bold;\\n        }\\n        .center { text-align: center; }\\n        .left { text-align: left; }\\n        h3 {\\n          font-family: Arial, sans-serif;\\n          font-size: 14px;\\n          margin: 15px 0 10px 0;\\n        }\\n      </style>\\n      \\n      <h3>PROCESSO</h3>\\n      <table>\\n        <tr>\\n          <th colspan=\\\"2\\\" style=\\\"width: 30%;\\\">DONO DO PROCESSO (nomeado):</th>\\n          <td colspan=\\\"4\\\">\".concat(escapeHtml(donoProcesso),\"</td>\\n        </tr>\\n        <tr>\\n          <th colspan=\\\"2\\\">OBJETIVO DO PROCESSO:</th>\\n          <td colspan=\\\"4\\\">\").concat(escapeHtml(objetivoProcesso),\"</td>\\n        </tr>\\n        <tr>\\n          <th colspan=\\\"3\\\" class=\\\"center\\\">SERVI\\xC7OS DE ENTRADAS</th>\\n          <th colspan=\\\"3\\\" class=\\\"center\\\">SERVI\\xC7O DE SA\\xCDDA</th>\\n        </tr>\\n        <tr>\\n          <td colspan=\\\"3\\\" style=\\\"height: 80px;\\\">\").concat(escapeHtml(servicosEntrada),\"</td>\\n          <td colspan=\\\"3\\\" style=\\\"height: 80px;\\\">\").concat(escapeHtml(servicoSaida),\"</td>\\n        </tr>\\n      </table>\\n\\n      <h3>PRINCIPAIS ATIVIDADES</h3>\\n      <table>\\n        <tr>\\n          <th style=\\\"width: 20%;\\\">Principais Atividades</th>\\n          <th style=\\\"width: 15%;\\\">Procedimentos Associados</th>\\n          <th style=\\\"width: 15%;\\\">Requisitos ISO 9001</th>\\n          <th style=\\\"width: 15%;\\\">Requisitos DGERT</th>\\n          <th style=\\\"width: 15%;\\\">Requisitos EQAVET</th>\\n          <th style=\\\"width: 20%;\\\">Requisitos CQCQ</th>\\n        </tr>\\n        \").concat((atividades||[]).map(row=>\"\\n          <tr>\\n            \".concat((row||[]).map(cell=>\"<td>\".concat(escapeHtml(cell),\"</td>\")).join(''),\"\\n          </tr>\\n        \")).join(''),\"\\n      </table>\\n    \");const obsTableHtml=\"\\n      <h3>INDICADORES DE MONITORIZA\\xC7\\xC3O</h3>\\n      <table>\\n        <tr>\\n          <th class=\\\"center\\\">Indicadores de monitoriza\\xE7\\xE3o do processo</th>\\n        </tr>\\n        \".concat(Array.isArray(indicadores)?// Se for array, renderizar dinamicamente\nindicadores.map((indicador,idx)=>\"\\n            <tr>\\n              <td><strong>Indicador R\".concat(idx+1,\":</strong><br>\").concat(escapeHtml(indicador||''),\"</td>\\n            </tr>\\n          \")).join(''):// Se for objeto, renderizar os 3 campos fixos\n\"<tr>\\n            <td><strong>Indicador R1:</strong><br>\".concat(escapeHtml(indicadores.indicadores_r1||''),\"</td>\\n          </tr>\\n          <tr>\\n            <td><strong>Indicador R2:</strong><br>\").concat(escapeHtml(indicadores.indicadores_r2||''),\"</td>\\n          </tr>\\n          <tr>\\n            <td><strong>Indicador R3:</strong><br>\").concat(escapeHtml(indicadores.indicadores_r3||''),\"</td>\\n          </tr>\"),\"\\n      </table>\\n    \");return{mainTableHtml,obsTableHtml};};// Função para redimensionar textarea automaticamente\nconst handleTextareaResize=e=>{const textarea=e.target;textarea.style.height='auto';textarea.style.height=\"\".concat(Math.max(textarea.scrollHeight,40),\"px\");};// Redimensiona textareas quando dados mudam\nuseEffect(()=>{Object.values(textAreaRefs.current).forEach(textarea=>{if(textarea){textarea.style.height='auto';textarea.style.height=\"\".concat(Math.max(textarea.scrollHeight,40),\"px\");}});},[atividades,servicosEntrada,servicoSaida,objetivoProcesso,indicadores]);const Title=pathFilename?pathFilename.split('/'):[''];console.log(\"PathFileName:\",pathFilename);return/*#__PURE__*/_jsxs(\"div\",{className:\"template2-container\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'left',margin:0,paddingLeft:0,width:'100%'},children:Title.map((line,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[line,index<Title.length-1&&/*#__PURE__*/_jsx(\"br\",{})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons-container\",children:[setIsEditable&&canEdit&&/*#__PURE__*/_jsx(_Fragment,{children:!isEditable?/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>setIsEditable(true),title:\"Ativar modo de edi\\xE7\\xE3o\",children:\"\\u270F\\uFE0F Editar\"}):/*#__PURE__*/_jsx(ExportPdfButton,{templateType:2,data:data,headers:[],dataObs:[],headersObs:[],atividades:atividades,donoProcesso:donoProcesso,donoProcessoOriginal:donoProcessoOriginal,objetivoProcesso:objetivoProcesso,indicadores:indicadores,pathFilename:pathFilename,servicosEntrada:servicosEntrada,servicoSaida:servicoSaida,onSaveSuccess:()=>{onSaveSuccess&&onSaveSuccess();setIsEditable(false);// Desativa edição após guardar\n},history:history})}),/*#__PURE__*/_jsx(PreviewPdfButton,{templateType:2,atividades:atividades,donoProcesso:donoProcesso,objetivoProcesso:objetivoProcesso,indicadores:indicadores,servicosEntrada:servicosEntrada,servicoSaida:servicoSaida,pathFilename:pathFilename,history:history}),isEditable&&clearHistory&&/*#__PURE__*/_jsx(\"button\",{className:\"clear-history-button\",onClick:clearHistory,title:\"Limpar hist\\xF3rico (Debug)\",style:{backgroundColor:'#ff4444',color:'white',border:'none',padding:'8px 12px',borderRadius:'4px',cursor:'pointer',fontSize:'12px',marginLeft:'10px'},children:\"\\uD83D\\uDDD1\\uFE0F Limpar Hist\\xF3rico\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"tabela-processo\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{colSpan:2,className:\"header-left\",children:[\"DONO DO PROCESSO\",/*#__PURE__*/_jsx(\"br\",{}),\"(nomeado):\"]}),/*#__PURE__*/_jsx(\"td\",{colSpan:4,className:\"cell-left\",children:/*#__PURE__*/_jsx(MultiSelectDonos,{funcionarios:funcionarios,donoProcesso:donoProcesso,setDonoProcesso:setDonoProcesso,isEditable:isEditable,isSuperAdmin:isSuperAdmin,donoProcessoAlterado:donoProcessoAlterado})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:2,className:\"header-left\",children:\"OBJETIVO DO PROCESSO:\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:4,className:\"cell-left\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current['objetivo-processo']=el,className:\"tabela-processo-textarea\",value:objetivoProcesso,onChange:e=>setObjetivoProcesso(e.target.value),onInput:handleTextareaResize,placeholder:\"Descreva o objetivo principal do processo...\",style:{resize:'none'},readOnly:!isEditable})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:3,className:\"header-center\",children:\"SERVI\\xC7OS DE ENTRADAS\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:3,className:\"header-center\",children:\"SERVI\\xC7O DE SA\\xCDDA\"})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"cell-top\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current['servicos-entrada']=el,className:\"tabela-processo-textarea large\",value:servicosEntrada,onChange:e=>setServicosEntrada(e.target.value),onInput:handleTextareaResize,placeholder:\"Descreva os servi\\xE7os de entrada necess\\xE1rios...\",style:{resize:'none'},readOnly:!isEditable})}),/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"cell-top\",children:/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current['servico-saida']=el,className:\"tabela-processo-textarea large\",value:servicoSaida,onChange:e=>setServicoSaida(e.target.value),onInput:handleTextareaResize,placeholder:\"Descreva o servi\\xE7o de sa\\xEDda resultante...\",style:{resize:'none'},readOnly:!isEditable})})]})})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"tabela-atividades\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Principais Atividades\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Procedimentos Associados\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Requisitos ISO 9001\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Requisitos DGERT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Requisitos EQAVET\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Requisitos CQCQ\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:atividades.map((row,rowIdx)=>/*#__PURE__*/_jsx(\"tr\",{onContextMenu:e=>contextMenuAtividades.handleContextMenuEvent(e,rowIdx),children:row.map((cell,colIdx)=>{const labels=['Principais Atividades','Procedimentos Associados','Requisitos ISO 9001','Requisitos DGERT','Requisitos EQAVET','Requisitos CQCQ'];return/*#__PURE__*/_jsx(\"td\",{\"data-label\":labels[colIdx],children:/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current[\"atividade-\".concat(rowIdx,\"-\").concat(colIdx)]=el,className:\"tabela-atividades-input custom\",value:cell,onChange:e=>handleAtividadesChange(rowIdx,colIdx,e.target.value),onInput:handleTextareaResize,placeholder:\"\".concat(colIdx===0?'Atividade':colIdx===1?'Procedimento':'Requisito',\"...\"),style:{resize:'none'},readOnly:!isEditable})},colIdx);})},rowIdx))})]}),contextMenuAtividades.contextMenu,contextMenuIndicadores.contextMenu,/*#__PURE__*/_jsxs(\"table\",{className:\"tabela-indicadores\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{className:\"header-center\",children:\"Indicadores de monitoriza\\xE7\\xE3o do processo\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.isArray(indicadores)?// Se for array, renderizar dinamicamente\nindicadores.map((indicador,rowIdx)=>/*#__PURE__*/_jsx(\"tr\",{onContextMenu:e=>contextMenuIndicadores.handleContextMenuEvent(e,rowIdx),children:/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'12px',fontWeight:'bold'},children:[\"Indicador R\",rowIdx+1,\":\"]}),/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current[\"indicador-\".concat(rowIdx)]=el,className:\"tabela-indicadores-textarea medium\",value:indicador||'',onChange:e=>handleIndicadoresChange(rowIdx,e.target.value),onInput:handleTextareaResize,placeholder:\"Indicador \".concat(rowIdx+1,\" de monitoriza\\xE7\\xE3o...\"),style:{resize:'none'},readOnly:!isEditable})]})},rowIdx)):/*#__PURE__*/// Se for objeto, renderizar os 3 campos fixos\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{onContextMenu:e=>contextMenuIndicadores.handleContextMenuEvent(e,0),children:/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'12px',fontWeight:'bold'},children:\"Indicador R1:\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current['indicador-r1']=el,className:\"tabela-indicadores-textarea medium\",value:indicadores.indicadores_r1||'',onChange:e=>handleIndicadoresChange('indicadores_r1',e.target.value),onInput:handleTextareaResize,placeholder:\"Primeiro indicador de monitoriza\\xE7\\xE3o...\",style:{resize:'none'},readOnly:!isEditable})]})}),/*#__PURE__*/_jsx(\"tr\",{onContextMenu:e=>contextMenuIndicadores.handleContextMenuEvent(e,1),children:/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'12px',fontWeight:'bold'},children:\"Indicador R2:\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current['indicador-r2']=el,className:\"tabela-indicadores-textarea medium\",value:indicadores.indicadores_r2||'',onChange:e=>handleIndicadoresChange('indicadores_r2',e.target.value),onInput:handleTextareaResize,placeholder:\"Segundo indicador de monitoriza\\xE7\\xE3o...\",style:{resize:'none'},readOnly:!isEditable})]})}),/*#__PURE__*/_jsx(\"tr\",{onContextMenu:e=>contextMenuIndicadores.handleContextMenuEvent(e,2),children:/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontSize:'12px',fontWeight:'bold'},children:\"Indicador R3:\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:el=>textAreaRefs.current['indicador-r3']=el,className:\"tabela-indicadores-textarea medium\",value:indicadores.indicadores_r3||'',onChange:e=>handleIndicadoresChange('indicadores_r3',e.target.value),onInput:handleTextareaResize,placeholder:\"Terceiro indicador de monitoriza\\xE7\\xE3o...\",style:{resize:'none'},readOnly:!isEditable})]})})]})})]}),history&&history.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{margin:'20px 0',padding:'15px',border:'2px solid #28a745',borderRadius:'8px',backgroundColor:'#d4edda',display:'none'// Mudar para 'block' para ver o histórico na interface\n},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'#155724',marginBottom:'15px'},children:[\"\\uD83D\\uDD0D DEBUG Template2 - Hist\\xF3rico de Altera\\xE7\\xF5es (\",history.length,\" entradas)\"]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#28a745',color:'white'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"Utilizador\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"A\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"Descri\\xE7\\xE3o\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:history.map((entry,index)=>/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:index%2===0?'#ffffff':'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'6px',border:'1px solid #ddd',fontSize:'11px'},children:entry.data||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'6px',border:'1px solid #ddd',fontSize:'11px'},children:entry.utilizador||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'6px',border:'1px solid #ddd',fontSize:'11px'},children:entry.acao||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'6px',border:'1px solid #ddd',fontSize:'11px',maxWidth:'300px',wordWrap:'break-word'},children:entry.descricao||'N/A'})]},index))})]})})]}),(!history||history.length===0)&&/*#__PURE__*/_jsxs(\"div\",{style:{margin:'20px 0',padding:'15px',border:'2px solid #dc3545',borderRadius:'8px',backgroundColor:'#f8d7da',color:'#721c24'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F DEBUG Template2 - Nenhum hist\\xF3rico encontrado\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"History prop: \",JSON.stringify(history)]})]})]});}","map":{"version":3,"names":["React","useRef","useEffect","useState","ExportPdfButton","PreviewPdfButton","useRowContextMenu","MultiSelectDonos","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Template2","_ref","isEditable","setIsEditable","canEdit","isSuperAdmin","data","handleChange","handleAtividadesChange","handleIndicadoresChange","donoProcesso","setDonoProcesso","donoProcessoOriginal","objetivoProcesso","setObjetivoProcesso","atividades","indicadores","servicosEntrada","setServicosEntrada","servicoSaida","setServicoSaida","funcionarios","getTablesHtml","onMoveAtividadeUp","onMoveAtividadeDown","onInsertAtividadeAbove","onInsertAtividadeBelow","onDeleteAtividade","onMoveIndicadorUp","onMoveIndicadorDown","onInsertIndicadorAbove","onInsertIndicadorBelow","onDeleteIndicador","pathFilename","onSaveSuccess","history","clearHistory","console","log","textAreaRefs","contextMenuAtividades","totalRows","length","onMoveRowUp","onMoveRowDown","onInsertRowAbove","onInsertRowBelow","onDeleteRow","contextMenuIndicadores","Array","isArray","donoProcessoAlterado","generateTablesHtml","escapeHtml","text","replace","mainTableHtml","concat","map","row","cell","join","obsTableHtml","indicador","idx","indicadores_r1","indicadores_r2","indicadores_r3","handleTextareaResize","e","textarea","target","style","height","Math","max","scrollHeight","Object","values","current","forEach","Title","split","className","children","textAlign","margin","paddingLeft","width","line","index","onClick","title","templateType","headers","dataObs","headersObs","backgroundColor","color","border","padding","borderRadius","cursor","fontSize","marginLeft","colSpan","ref","el","value","onChange","onInput","placeholder","resize","readOnly","rowIdx","onContextMenu","handleContextMenuEvent","colIdx","labels","contextMenu","display","marginBottom","fontWeight","overflowX","borderCollapse","entry","utilizador","acao","maxWidth","wordWrap","descricao","JSON","stringify"],"sources":["C:/Users/alex_/Desktop/Magna-ISO9001/src/components/templates/TabelaTemplate2.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport ExportPdfButton from \"../Buttons/exportPdf\";\r\nimport PreviewPdfButton from \"../Buttons/previewPDF\";\r\nimport useRowContextMenu from \"../ContextMenu/useRowContextMenu\";\r\nimport MultiSelectDonos from \"../MultiSelectDonos\";\r\nimport \"./styleTemplates.css\"; \r\n\r\nexport default function Template2({\r\n  isEditable = false, // Nova prop para controlar editabilidade (começa não-editável)\r\n  setIsEditable, // Nova prop para alterar estado de editabilidade\r\n  canEdit = true, // Nova prop para controlar se pode editar (permissões)\r\n  isSuperAdmin = false, // Nova prop para controlar se é SuperAdmin (pode mudar dono processo)\r\n  data = [[ \"\", \"\" ]],\r\n  handleChange,\r\n  handleAtividadesChange,\r\n  handleIndicadoresChange,\r\n  donoProcesso = \"\",\r\n  setDonoProcesso,\r\n  donoProcessoOriginal = \"\",\r\n  objetivoProcesso = \"\",\r\n  setObjetivoProcesso,\r\n  atividades = [[\"\", \"\", \"\", \"\", \"\", \"\"], \r\n                [\"\", \"\", \"\", \"\", \"\", \"\"], \r\n                [\"\", \"\", \"\", \"\", \"\", \"\"], \r\n                [\"\", \"\", \"\", \"\", \"\", \"\"]],\r\n  indicadores = [ \"\" ],\r\n  servicosEntrada = \"\",\r\n  setServicosEntrada,\r\n  servicoSaida = \"\",\r\n  setServicoSaida,\r\n  funcionarios = [], \r\n  getTablesHtml,\r\n  onMoveAtividadeUp,\r\n  onMoveAtividadeDown,\r\n  onInsertAtividadeAbove,\r\n  onInsertAtividadeBelow,\r\n  onDeleteAtividade,\r\n  // Props para manipulação de indicadores\r\n  onMoveIndicadorUp,\r\n  onMoveIndicadorDown,\r\n  onInsertIndicadorAbove,\r\n  onInsertIndicadorBelow,\r\n  onDeleteIndicador,\r\n  // Props adicionais para ExportPdfButton\r\n  pathFilename = \"\",\r\n  onSaveSuccess,\r\n  history = [], // Novo parâmetro para histórico\r\n  clearHistory // Nova prop para função de limpar histórico\r\n}) {\r\n  // Log do histórico para debug\r\n  console.log('Histórico:', history);\r\n  // Refs para textareas auto-resize\r\n  const textAreaRefs = useRef({});\r\n  \r\n  // Hook para o context menu das atividades\r\n  const contextMenuAtividades = useRowContextMenu({\r\n    totalRows: atividades.length,\r\n    onMoveRowUp: onMoveAtividadeUp,\r\n    onMoveRowDown: onMoveAtividadeDown,\r\n    onInsertRowAbove: onInsertAtividadeAbove,\r\n    onInsertRowBelow: onInsertAtividadeBelow,\r\n    onDeleteRow: onDeleteAtividade\r\n  });\r\n\r\n  // Hook para o context menu dos indicadores (dinâmico)\r\n  const contextMenuIndicadores = useRowContextMenu({\r\n    totalRows: Array.isArray(indicadores) ? indicadores.length : 3, \r\n    onMoveRowUp: onMoveIndicadorUp,\r\n    onMoveRowDown: onMoveIndicadorDown,\r\n    onInsertRowAbove: onInsertIndicadorAbove,\r\n    onInsertRowBelow: onInsertIndicadorBelow,\r\n    onDeleteRow: onDeleteIndicador\r\n  });\r\n\r\n  // Verifica se o dono do processo foi alterado\r\n  const donoProcessoAlterado = donoProcesso !== donoProcessoOriginal;\r\n\r\n  // Função para gerar HTML das tabelas para PDF\r\n  const generateTablesHtml = () => {\r\n    // Escapa caracteres especiais no HTML\r\n    const escapeHtml = (text) => {\r\n      if (!text || typeof text !== 'string') return '';\r\n      return text\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&#039;')\r\n        .replace(/\\n/g, '<br>');\r\n    };\r\n\r\n    const mainTableHtml = `\r\n      <style>\r\n        table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          margin-bottom: 20px;\r\n          font-family: Arial, sans-serif;\r\n          font-size: 11px;\r\n        }\r\n        th, td {\r\n          border: 1px solid #000;\r\n          padding: 6px 8px;\r\n          text-align: left;\r\n          vertical-align: top;\r\n          word-wrap: break-word;\r\n        }\r\n        th {\r\n          background-color: #f0f0f0;\r\n          font-weight: bold;\r\n        }\r\n        .center { text-align: center; }\r\n        .left { text-align: left; }\r\n        h3 {\r\n          font-family: Arial, sans-serif;\r\n          font-size: 14px;\r\n          margin: 15px 0 10px 0;\r\n        }\r\n      </style>\r\n      \r\n      <h3>PROCESSO</h3>\r\n      <table>\r\n        <tr>\r\n          <th colspan=\"2\" style=\"width: 30%;\">DONO DO PROCESSO (nomeado):</th>\r\n          <td colspan=\"4\">${escapeHtml(donoProcesso)}</td>\r\n        </tr>\r\n        <tr>\r\n          <th colspan=\"2\">OBJETIVO DO PROCESSO:</th>\r\n          <td colspan=\"4\">${escapeHtml(objetivoProcesso)}</td>\r\n        </tr>\r\n        <tr>\r\n          <th colspan=\"3\" class=\"center\">SERVIÇOS DE ENTRADAS</th>\r\n          <th colspan=\"3\" class=\"center\">SERVIÇO DE SAÍDA</th>\r\n        </tr>\r\n        <tr>\r\n          <td colspan=\"3\" style=\"height: 80px;\">${escapeHtml(servicosEntrada)}</td>\r\n          <td colspan=\"3\" style=\"height: 80px;\">${escapeHtml(servicoSaida)}</td>\r\n        </tr>\r\n      </table>\r\n\r\n      <h3>PRINCIPAIS ATIVIDADES</h3>\r\n      <table>\r\n        <tr>\r\n          <th style=\"width: 20%;\">Principais Atividades</th>\r\n          <th style=\"width: 15%;\">Procedimentos Associados</th>\r\n          <th style=\"width: 15%;\">Requisitos ISO 9001</th>\r\n          <th style=\"width: 15%;\">Requisitos DGERT</th>\r\n          <th style=\"width: 15%;\">Requisitos EQAVET</th>\r\n          <th style=\"width: 20%;\">Requisitos CQCQ</th>\r\n        </tr>\r\n        ${(atividades || []).map(row => `\r\n          <tr>\r\n            ${(row || []).map(cell => `<td>${escapeHtml(cell)}</td>`).join('')}\r\n          </tr>\r\n        `).join('')}\r\n      </table>\r\n    `;\r\n\r\n    const obsTableHtml = `\r\n      <h3>INDICADORES DE MONITORIZAÇÃO</h3>\r\n      <table>\r\n        <tr>\r\n          <th class=\"center\">Indicadores de monitorização do processo</th>\r\n        </tr>\r\n        ${Array.isArray(indicadores) ? \r\n          // Se for array, renderizar dinamicamente\r\n          indicadores.map((indicador, idx) => `\r\n            <tr>\r\n              <td><strong>Indicador R${idx + 1}:</strong><br>${escapeHtml(indicador || '')}</td>\r\n            </tr>\r\n          `).join('') :\r\n          // Se for objeto, renderizar os 3 campos fixos\r\n          `<tr>\r\n            <td><strong>Indicador R1:</strong><br>${escapeHtml(indicadores.indicadores_r1 || '')}</td>\r\n          </tr>\r\n          <tr>\r\n            <td><strong>Indicador R2:</strong><br>${escapeHtml(indicadores.indicadores_r2 || '')}</td>\r\n          </tr>\r\n          <tr>\r\n            <td><strong>Indicador R3:</strong><br>${escapeHtml(indicadores.indicadores_r3 || '')}</td>\r\n          </tr>`\r\n        }\r\n      </table>\r\n    `;\r\n\r\n    return { mainTableHtml, obsTableHtml };\r\n  };\r\n\r\n  // Função para redimensionar textarea automaticamente\r\n  const handleTextareaResize = (e) => {\r\n    const textarea = e.target;\r\n    textarea.style.height = 'auto';\r\n    textarea.style.height = `${Math.max(textarea.scrollHeight, 40)}px`;\r\n  };\r\n\r\n  // Redimensiona textareas quando dados mudam\r\n  useEffect(() => {\r\n    Object.values(textAreaRefs.current).forEach(textarea => {\r\n      if (textarea) {\r\n        textarea.style.height = 'auto';\r\n        textarea.style.height = `${Math.max(textarea.scrollHeight, 40)}px`;\r\n      }\r\n    });\r\n  }, [atividades, servicosEntrada, servicoSaida, objetivoProcesso, indicadores]);\r\n\r\n    const Title = pathFilename ? pathFilename.split('/') : [''];\r\n\r\n\r\n  console.log(\"PathFileName:\", pathFilename);\r\n\r\n  return (\r\n    <div className=\"template2-container\">\r\n       <h2 style={{textAlign: 'left', margin: 0, paddingLeft: 0, width: '100%'}}>\r\n                {Title.map((line, index) => (\r\n                  <React.Fragment key={index}>\r\n                    {line}\r\n                    {index < Title.length - 1 && <br />}\r\n                  </React.Fragment>\r\n                ))}\r\n              </h2>\r\n      {/* Action buttons at top right */}\r\n      <div className=\"action-buttons-container\">\r\n        {/* Botão Editar/Guardar integrado */}\r\n        {setIsEditable && canEdit && (\r\n          <>\r\n            {!isEditable ? (\r\n              <button \r\n                className=\"edit-button\"\r\n                onClick={() => setIsEditable(true)}\r\n                title=\"Ativar modo de edição\"\r\n              >\r\n                ✏️ Editar\r\n              </button>\r\n            ) : (\r\n              <ExportPdfButton\r\n                templateType={2}\r\n                data={data}\r\n                headers={[]}\r\n                dataObs={[]}\r\n                headersObs={[]}\r\n                atividades={atividades}\r\n                donoProcesso={donoProcesso}\r\n                donoProcessoOriginal={donoProcessoOriginal}\r\n                objetivoProcesso={objetivoProcesso}\r\n                indicadores={indicadores}\r\n                pathFilename={pathFilename}\r\n                servicosEntrada={servicosEntrada}\r\n                servicoSaida={servicoSaida}\r\n                onSaveSuccess={() => {\r\n                  onSaveSuccess && onSaveSuccess();\r\n                  setIsEditable(false); // Desativa edição após guardar\r\n                }}\r\n                history={history}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n        <PreviewPdfButton \r\n          templateType={2}\r\n          atividades={atividades}\r\n          donoProcesso={donoProcesso}\r\n          objetivoProcesso={objetivoProcesso}\r\n          indicadores={indicadores}\r\n          servicosEntrada={servicosEntrada}\r\n          servicoSaida={servicoSaida}\r\n          pathFilename={pathFilename}\r\n          history={history}\r\n        />\r\n        \r\n        {/* Botão de debug para limpar histórico - só aparece quando está a editar */}\r\n        {isEditable && clearHistory && (\r\n          <button \r\n            className=\"clear-history-button\"\r\n            onClick={clearHistory}\r\n            title=\"Limpar histórico (Debug)\"\r\n            style={{\r\n              backgroundColor: '#ff4444',\r\n              color: 'white',\r\n              border: 'none',\r\n              padding: '8px 12px',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              fontSize: '12px',\r\n              marginLeft: '10px'\r\n            }}\r\n          >\r\n            🗑️ Limpar Histórico\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Tabela principal */}\r\n<table className=\"tabela-processo\">\r\n  <thead>\r\n    <tr>\r\n      <th colSpan={2} className=\"header-left\">DONO DO PROCESSO<br/>(nomeado):</th>\r\n      <td colSpan={4} className=\"cell-left\">\r\n        <MultiSelectDonos\r\n          funcionarios={funcionarios}\r\n          donoProcesso={donoProcesso}\r\n          setDonoProcesso={setDonoProcesso}\r\n          isEditable={isEditable}\r\n          isSuperAdmin={isSuperAdmin}\r\n          donoProcessoAlterado={donoProcessoAlterado}\r\n        />\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <th colSpan={2} className=\"header-left\">OBJETIVO DO PROCESSO:</th>\r\n      <td colSpan={4} className=\"cell-left\">\r\n        <textarea\r\n          ref={(el) => textAreaRefs.current['objetivo-processo'] = el}\r\n          className=\"tabela-processo-textarea\"\r\n          value={objetivoProcesso}\r\n          onChange={e => setObjetivoProcesso(e.target.value)}\r\n          onInput={handleTextareaResize}\r\n          placeholder=\"Descreva o objetivo principal do processo...\"\r\n          style={{ resize: 'none' }}\r\n          readOnly={!isEditable}\r\n        />\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <th colSpan={3} className=\"header-center\">SERVIÇOS DE ENTRADAS</th>\r\n      <th colSpan={3} className=\"header-center\">SERVIÇO DE SAÍDA</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td colSpan={3} className=\"cell-top\">\r\n        <textarea\r\n          ref={(el) => textAreaRefs.current['servicos-entrada'] = el}\r\n          className=\"tabela-processo-textarea large\"\r\n          value={servicosEntrada}\r\n          onChange={e => setServicosEntrada(e.target.value)}\r\n          onInput={handleTextareaResize}\r\n          placeholder=\"Descreva os serviços de entrada necessários...\"\r\n          style={{ resize: 'none' }}\r\n          readOnly={!isEditable}\r\n        />\r\n      </td>\r\n      <td colSpan={3} className=\"cell-top\">\r\n        <textarea\r\n          ref={(el) => textAreaRefs.current['servico-saida'] = el}\r\n          className=\"tabela-processo-textarea large\"\r\n          value={servicoSaida}\r\n          onChange={e => setServicoSaida(e.target.value)}\r\n          onInput={handleTextareaResize}\r\n          placeholder=\"Descreva o serviço de saída resultante...\"\r\n          style={{ resize: 'none' }}\r\n          readOnly={!isEditable}\r\n        />\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n{/* Tabela Principais Atividades */}\r\n<table className=\"tabela-atividades\">\r\n  <thead>\r\n    <tr>\r\n      <th>Principais Atividades</th>\r\n      <th>Procedimentos Associados</th>\r\n      <th>Requisitos ISO 9001</th>\r\n      <th>Requisitos DGERT</th>\r\n      <th>Requisitos EQAVET</th>\r\n      <th>Requisitos CQCQ</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    {atividades.map((row, rowIdx) => (\r\n      <tr \r\n        key={rowIdx}\r\n        onContextMenu={(e) => contextMenuAtividades.handleContextMenuEvent(e, rowIdx)}\r\n      >\r\n        {row.map((cell, colIdx) => {\r\n          const labels = [\r\n            'Principais Atividades',\r\n            'Procedimentos Associados', \r\n            'Requisitos ISO 9001',\r\n            'Requisitos DGERT',\r\n            'Requisitos EQAVET',\r\n            'Requisitos CQCQ'\r\n          ];\r\n          return (\r\n            <td key={colIdx} data-label={labels[colIdx]}>\r\n              <textarea\r\n                ref={(el) => textAreaRefs.current[`atividade-${rowIdx}-${colIdx}`] = el}\r\n                className=\"tabela-atividades-input custom\"\r\n                value={cell}\r\n                onChange={e => handleAtividadesChange(rowIdx, colIdx, e.target.value)}\r\n                onInput={handleTextareaResize}\r\n                placeholder={`${colIdx === 0 ? 'Atividade' : colIdx === 1 ? 'Procedimento' : 'Requisito'}...`}\r\n                style={{ resize: 'none' }}\r\n                readOnly={!isEditable}\r\n              />\r\n            </td>\r\n          );\r\n        })}\r\n      </tr>\r\n    ))}\r\n  </tbody>\r\n</table>\r\n\r\n{/* Renderizar os context menus fora das tabelas */}\r\n{contextMenuAtividades.contextMenu}\r\n{contextMenuIndicadores.contextMenu}\r\n\r\n{/* Tabela Indicadores de monitorização do processo */}\r\n<table className=\"tabela-indicadores\">\r\n  <thead>\r\n    <tr>\r\n      <th className=\"header-center\">Indicadores de monitorização do processo</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    {/* Suporte para indicadores como array ou objeto */}\r\n    {Array.isArray(indicadores) ? (\r\n      // Se for array, renderizar dinamicamente\r\n      indicadores.map((indicador, rowIdx) => (\r\n        <tr key={rowIdx} onContextMenu={(e) => contextMenuIndicadores.handleContextMenuEvent(e, rowIdx)}>\r\n          <td>\r\n            <label style={{ display: 'block', marginBottom: '5px', fontSize: '12px', fontWeight: 'bold' }}>\r\n              Indicador R{rowIdx + 1}:\r\n            </label>\r\n            <textarea\r\n              ref={(el) => textAreaRefs.current[`indicador-${rowIdx}`] = el}\r\n              className=\"tabela-indicadores-textarea medium\"\r\n              value={indicador || ''}\r\n              onChange={e => handleIndicadoresChange(rowIdx, e.target.value)}\r\n              onInput={handleTextareaResize}\r\n              placeholder={`Indicador ${rowIdx + 1} de monitorização...`}\r\n              style={{ resize: 'none' }}\r\n              readOnly={!isEditable}\r\n            />\r\n          </td>\r\n        </tr>\r\n      ))\r\n    ) : (\r\n      // Se for objeto, renderizar os 3 campos fixos\r\n      <>\r\n        <tr onContextMenu={(e) => contextMenuIndicadores.handleContextMenuEvent(e, 0)}>\r\n          <td>\r\n            <label style={{ display: 'block', marginBottom: '5px', fontSize: '12px', fontWeight: 'bold' }}>\r\n              Indicador R1:\r\n            </label>\r\n            <textarea\r\n              ref={(el) => textAreaRefs.current['indicador-r1'] = el}\r\n              className=\"tabela-indicadores-textarea medium\"\r\n              value={indicadores.indicadores_r1 || ''}\r\n              onChange={e => handleIndicadoresChange('indicadores_r1', e.target.value)}\r\n              onInput={handleTextareaResize}\r\n              placeholder=\"Primeiro indicador de monitorização...\"\r\n              style={{ resize: 'none' }}\r\n              readOnly={!isEditable}\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr onContextMenu={(e) => contextMenuIndicadores.handleContextMenuEvent(e, 1)}>\r\n          <td>\r\n            <label style={{ display: 'block', marginBottom: '5px', fontSize: '12px', fontWeight: 'bold' }}>\r\n              Indicador R2:\r\n            </label>\r\n            <textarea\r\n              ref={(el) => textAreaRefs.current['indicador-r2'] = el}\r\n              className=\"tabela-indicadores-textarea medium\"\r\n              value={indicadores.indicadores_r2 || ''}\r\n              onChange={e => handleIndicadoresChange('indicadores_r2', e.target.value)}\r\n              onInput={handleTextareaResize}\r\n              placeholder=\"Segundo indicador de monitorização...\"\r\n              style={{ resize: 'none' }}\r\n              readOnly={!isEditable}\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr onContextMenu={(e) => contextMenuIndicadores.handleContextMenuEvent(e, 2)}>\r\n          <td>\r\n            <label style={{ display: 'block', marginBottom: '5px', fontSize: '12px', fontWeight: 'bold' }}>\r\n              Indicador R3:\r\n            </label>\r\n            <textarea\r\n              ref={(el) => textAreaRefs.current['indicador-r3'] = el}\r\n              className=\"tabela-indicadores-textarea medium\"\r\n              value={indicadores.indicadores_r3 || ''}\r\n              onChange={e => handleIndicadoresChange('indicadores_r3', e.target.value)}\r\n              onInput={handleTextareaResize}\r\n              placeholder=\"Terceiro indicador de monitorização...\"\r\n              style={{ resize: 'none' }}\r\n              readOnly={!isEditable}\r\n            />\r\n          </td>\r\n        </tr>\r\n      </>\r\n    )}\r\n  </tbody>\r\n</table>\r\n\r\n      {/* DEBUG: Mostrar tabela de histórico visível na interface */}\r\n      {history && history.length > 0 && (\r\n        <div style={{ \r\n          margin: '20px 0', \r\n          padding: '15px', \r\n          border: '2px solid #28a745', \r\n          borderRadius: '8px',\r\n          backgroundColor: '#d4edda',\r\n          display: 'none' // Mudar para 'block' para ver o histórico na interface\r\n        }}>\r\n          <h3 style={{ color: '#155724', marginBottom: '15px' }}>\r\n            🔍 DEBUG Template2 - Histórico de Alterações ({history.length} entradas)\r\n          </h3>\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ \r\n              width: '100%', \r\n              borderCollapse: 'collapse',\r\n              fontSize: '12px'\r\n            }}>\r\n              <thead>\r\n                <tr style={{ backgroundColor: '#28a745', color: 'white' }}>\r\n                  <th style={{ padding: '8px', border: '1px solid #ddd' }}>Data</th>\r\n                  <th style={{ padding: '8px', border: '1px solid #ddd' }}>Utilizador</th>\r\n                  <th style={{ padding: '8px', border: '1px solid #ddd' }}>Ação</th>\r\n                  <th style={{ padding: '8px', border: '1px solid #ddd' }}>Descrição</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {history.map((entry, index) => (\r\n                  <tr key={index} style={{ backgroundColor: index % 2 === 0 ? '#ffffff' : '#f8f9fa' }}>\r\n                    <td style={{ padding: '6px', border: '1px solid #ddd', fontSize: '11px' }}>\r\n                      {entry.data || 'N/A'}\r\n                    </td>\r\n                    <td style={{ padding: '6px', border: '1px solid #ddd', fontSize: '11px' }}>\r\n                      {entry.utilizador || 'N/A'}\r\n                    </td>\r\n                    <td style={{ padding: '6px', border: '1px solid #ddd', fontSize: '11px' }}>\r\n                      {entry.acao || 'N/A'}\r\n                    </td>\r\n                    <td style={{ \r\n                      padding: '6px', \r\n                      border: '1px solid #ddd', \r\n                      fontSize: '11px',\r\n                      maxWidth: '300px',\r\n                      wordWrap: 'break-word'\r\n                    }}>\r\n                      {entry.descricao || 'N/A'}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Se não há histórico, mostrar aviso de debug */}\r\n      {(!history || history.length === 0) && (\r\n        <div style={{ \r\n          margin: '20px 0', \r\n          padding: '15px', \r\n          border: '2px solid #dc3545', \r\n          borderRadius: '8px',\r\n          backgroundColor: '#f8d7da',\r\n          color: '#721c24'\r\n        }}>\r\n          <h3>⚠️ DEBUG Template2 - Nenhum histórico encontrado</h3>\r\n          <p>History prop: {JSON.stringify(history)}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}