{"ast":null,"code":"import{xStart,yStart,wrapText,pageSize,addHeader}from'./pdfBase';import{obsColWidth}from'./pdfTables';import{rgb}from'pdf-lib';// FunÃ§Ã£o para calcular a altura exata da tabela de observaÃ§Ãµes\nexport function calculateObsTableHeight(dataObs,font){const obsRows=5;// Sempre 5 seÃ§Ãµes\nconst safeDataObs=Array.from({length:obsRows},(_,i)=>Array.isArray(dataObs)&&Array.isArray(dataObs[i])?dataObs[i]:[\"\"]);const fontSize=8;const maxWidth=obsColWidth[0]-8;const lineHeight=fontSize+2;const headerHeight=25;// Altura dos headers\nconst minContentHeight=30;// Altura mÃ­nima do conteÃºdo\n// Calcula altura de cada seÃ§Ã£o (header + conteÃºdo)\nconst sectionHeights=safeDataObs.map(row=>{const text=row[0]||'';const lines=wrapText(text,font,fontSize,maxWidth);const contentHeight=Math.max(minContentHeight,lines.length*lineHeight+16);return headerHeight+contentHeight;});return sectionHeights.reduce((a,b)=>a+b,0);}// FunÃ§Ã£o para desenhar tabela de observaÃ§Ãµes com headers cinza e continuaÃ§Ã£o entre pÃ¡ginas\nexport async function drawObsTableWithHeaders(page,font,dataObs){let imageBytes=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;let pathFilename=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';const obsRows=5;// Sempre 5 seÃ§Ãµes\nconst headers=[\"1. Objetivos:\",\"2. Campo de AplicaÃ§Ã£o:\",\"3. DefiniÃ§Ãµes:\",\"4. Abreviaturas:\",\"5. ObservaÃ§Ãµes:\"];// Garante que temos exatamente 5 seÃ§Ãµes na ordem correta\nconst safeDataObs=Array.from({length:obsRows},(_,i)=>{if(Array.isArray(dataObs)&&Array.isArray(dataObs[i])){return dataObs[i];}else if(Array.isArray(dataObs)&&dataObs[i]!==undefined){return[dataObs[i]];// Converte string em array se necessÃ¡rio\n}else{return[\"\"];// SeÃ§Ã£o vazia\n}});console.log('ðŸ” DEBUG - SeÃ§Ãµes processadas para PDF:',safeDataObs.map((section,i)=>\"\".concat(headers[i],\" -> \\\"\").concat(section[0]?section[0].substring(0,50):'vazio',\"...\\\"\")));const fontSize=8;const maxWidth=obsColWidth[0]-8;const lineHeight=fontSize+2;const headerHeight=25;const minContentHeight=30;const pageBottomMargin=50;// Margem inferior da pÃ¡gina\nconst maxYPosition=pageBottomMargin;// PosiÃ§Ã£o Y mÃ­nima na pÃ¡gina\nlet currentPage=page;let yPos=yStart;let allPages=[page];// Array para armazenar todas as pÃ¡ginas criadas\n// FunÃ§Ã£o auxiliar para criar nova pÃ¡gina\nconst createNewPage=async()=>{const newPage=currentPage.doc.addPage(pageSize);await addHeader(newPage,font,'',imageBytes,pathFilename);allPages.push(newPage);currentPage=newPage;yPos=yStart;// Reset da posiÃ§Ã£o Y para o topo da nova pÃ¡gina\nreturn newPage;};// FunÃ§Ã£o auxiliar para verificar se hÃ¡ espaÃ§o suficiente na pÃ¡gina atual\nconst hasSpaceForContent=requiredHeight=>{return yPos-requiredHeight>=maxYPosition;};// FunÃ§Ã£o auxiliar para dividir texto em chunks que cabem na pÃ¡gina\nconst splitTextForPages=(lines,availableHeight)=>{const linesPerPage=Math.floor((availableHeight-16)/lineHeight);// -16 para padding\nconst chunks=[];for(let i=0;i<lines.length;i+=linesPerPage){chunks.push(lines.slice(i,i+linesPerPage));}return chunks;};// Desenha cada seÃ§Ã£o\nfor(let i=0;i<obsRows;i++){const text=safeDataObs[i][0]||'';const lines=wrapText(text,font,fontSize,maxWidth);const contentHeight=Math.max(minContentHeight,lines.length*lineHeight+16);const sectionHeight=headerHeight+contentHeight;// Verifica se a seÃ§Ã£o completa cabe na pÃ¡gina atual\nif(!hasSpaceForContent(sectionHeight)){// Se nem o header cabe, cria nova pÃ¡gina\nif(!hasSpaceForContent(headerHeight)){await createNewPage();}// Se ainda nÃ£o cabe apÃ³s nova pÃ¡gina, divide o conteÃºdo\nif(!hasSpaceForContent(sectionHeight)){// Desenha header na pÃ¡gina atual\ncurrentPage.drawRectangle({x:xStart,y:yPos-headerHeight,width:obsColWidth[0],height:headerHeight,color:rgb(0.7,0.7,0.7),borderColor:rgb(0,0,0),borderWidth:1});currentPage.drawText(headers[i],{x:xStart+8,y:yPos-15,size:8,font,color:rgb(0,0,0)});yPos-=headerHeight;// Calcula quanto espaÃ§o disponÃ­vel temos para conteÃºdo na pÃ¡gina atual\nconst availableSpaceCurrentPage=yPos-maxYPosition;// Divide o texto em chunks que cabem nas pÃ¡ginas\nconst textChunks=splitTextForPages(lines,availableSpaceCurrentPage);// Desenha primeiro chunk na pÃ¡gina atual\nif(textChunks.length>0){const firstChunkHeight=Math.max(minContentHeight,textChunks[0].length*lineHeight+16);currentPage.drawRectangle({x:xStart,y:yPos-firstChunkHeight,width:obsColWidth[0],height:firstChunkHeight,borderColor:rgb(0,0,0),borderWidth:1});let textY=yPos-12;for(let j=0;j<textChunks[0].length;j++){currentPage.drawText(textChunks[0][j],{x:xStart+4,y:textY-j*lineHeight,size:fontSize,font,color:rgb(0,0,0),maxWidth:maxWidth});}yPos-=firstChunkHeight;}// Desenha chunks restantes em novas pÃ¡ginas\nfor(let chunkIndex=1;chunkIndex<textChunks.length;chunkIndex++){await createNewPage();const chunk=textChunks[chunkIndex];const chunkHeight=Math.max(minContentHeight,chunk.length*lineHeight+16);// Desenha header de continuaÃ§Ã£o (mais claro)\ncurrentPage.drawRectangle({x:xStart,y:yPos-headerHeight,width:obsColWidth[0],height:headerHeight,color:rgb(0.85,0.85,0.85),// Cor mais clara para indicar continuaÃ§Ã£o\nborderColor:rgb(0,0,0),borderWidth:1});currentPage.drawText(\"\".concat(headers[i],\" (continua\\xE7\\xE3o)\"),{x:xStart+8,y:yPos-15,size:8,font,color:rgb(0,0,0)});yPos-=headerHeight;// Desenha conteÃºdo da continuaÃ§Ã£o\ncurrentPage.drawRectangle({x:xStart,y:yPos-chunkHeight,width:obsColWidth[0],height:chunkHeight,borderColor:rgb(0,0,0),borderWidth:1});let textY=yPos-12;for(let j=0;j<chunk.length;j++){currentPage.drawText(chunk[j],{x:xStart+4,y:textY-j*lineHeight,size:fontSize,font,color:rgb(0,0,0),maxWidth:maxWidth});}yPos-=chunkHeight;}}else{// A seÃ§Ã£o cabe inteira na nova pÃ¡gina\nawait createNewPage();// Desenha header\ncurrentPage.drawRectangle({x:xStart,y:yPos-headerHeight,width:obsColWidth[0],height:headerHeight,color:rgb(0.7,0.7,0.7),borderColor:rgb(0,0,0),borderWidth:1});currentPage.drawText(headers[i],{x:xStart+8,y:yPos-15,size:8,font,color:rgb(0,0,0)});// Desenha Ã¡rea de conteÃºdo\ncurrentPage.drawRectangle({x:xStart,y:yPos-sectionHeight,width:obsColWidth[0],height:contentHeight,borderColor:rgb(0,0,0),borderWidth:1});// Desenha conteÃºdo\nlet textY=yPos-headerHeight-12;for(let j=0;j<lines.length;j++){currentPage.drawText(lines[j],{x:xStart+4,y:textY-j*lineHeight,size:fontSize,font,color:rgb(0,0,0),maxWidth:maxWidth});}yPos-=sectionHeight;}}else{// A seÃ§Ã£o cabe inteira na pÃ¡gina atual\n// Desenha header cinza\ncurrentPage.drawRectangle({x:xStart,y:yPos-headerHeight,width:obsColWidth[0],height:headerHeight,color:rgb(0.7,0.7,0.7),borderColor:rgb(0,0,0),borderWidth:1});// Texto do header\ncurrentPage.drawText(headers[i],{x:xStart+8,y:yPos-15,size:8,font,color:rgb(0,0,0)});// Desenha Ã¡rea de conteÃºdo\ncurrentPage.drawRectangle({x:xStart,y:yPos-sectionHeight,width:obsColWidth[0],height:contentHeight,borderColor:rgb(0,0,0),borderWidth:1});// Desenha conteÃºdo\nlet textY=yPos-headerHeight-12;for(let j=0;j<lines.length;j++){currentPage.drawText(lines[j],{x:xStart+4,y:textY-j*lineHeight,size:fontSize,font,color:rgb(0,0,0),maxWidth:maxWidth});}yPos-=sectionHeight;}}// Retorna informaÃ§Ãµes sobre as pÃ¡ginas criadas\nreturn{totalHeight:0,// NÃ£o aplicÃ¡vel com mÃºltiplas pÃ¡ginas\npages:allPages,currentPage:currentPage,currentYPosition:yPos};}","map":{"version":3,"names":["xStart","yStart","wrapText","pageSize","addHeader","obsColWidth","rgb","calculateObsTableHeight","dataObs","font","obsRows","safeDataObs","Array","from","length","_","i","isArray","fontSize","maxWidth","lineHeight","headerHeight","minContentHeight","sectionHeights","map","row","text","lines","contentHeight","Math","max","reduce","a","b","drawObsTableWithHeaders","page","imageBytes","arguments","undefined","pathFilename","headers","console","log","section","concat","substring","pageBottomMargin","maxYPosition","currentPage","yPos","allPages","createNewPage","newPage","doc","addPage","push","hasSpaceForContent","requiredHeight","splitTextForPages","availableHeight","linesPerPage","floor","chunks","slice","sectionHeight","drawRectangle","x","y","width","height","color","borderColor","borderWidth","drawText","size","availableSpaceCurrentPage","textChunks","firstChunkHeight","textY","j","chunkIndex","chunk","chunkHeight","totalHeight","pages","currentYPosition"],"sources":["C:/Users/alex_/Magna-ISO9001/src/utils/pdfObsTable.js"],"sourcesContent":["import { xStart, yStart, wrapText, pageSize, addHeader } from './pdfBase';\r\nimport { obsColWidth } from './pdfTables';\r\nimport { rgb } from 'pdf-lib';\r\n\r\n// FunÃ§Ã£o para calcular a altura exata da tabela de observaÃ§Ãµes\r\nexport function calculateObsTableHeight(dataObs, font) {\r\n  const obsRows = 5; // Sempre 5 seÃ§Ãµes\r\n  const safeDataObs = Array.from({ length: obsRows }, (_, i) =>\r\n    Array.isArray(dataObs) && Array.isArray(dataObs[i]) ? dataObs[i] : [\"\"]\r\n  );\r\n\r\n  const fontSize = 8;\r\n  const maxWidth = obsColWidth[0] - 8;\r\n  const lineHeight = fontSize + 2;\r\n  const headerHeight = 25; // Altura dos headers\r\n  const minContentHeight = 30; // Altura mÃ­nima do conteÃºdo\r\n\r\n  // Calcula altura de cada seÃ§Ã£o (header + conteÃºdo)\r\n  const sectionHeights = safeDataObs.map((row) => {\r\n    const text = row[0] || '';\r\n    const lines = wrapText(text, font, fontSize, maxWidth);\r\n    const contentHeight = Math.max(minContentHeight, lines.length * lineHeight + 16);\r\n    return headerHeight + contentHeight;\r\n  });\r\n\r\n  return sectionHeights.reduce((a, b) => a + b, 0);\r\n}\r\n\r\n// FunÃ§Ã£o para desenhar tabela de observaÃ§Ãµes com headers cinza e continuaÃ§Ã£o entre pÃ¡ginas\r\nexport async function drawObsTableWithHeaders(page, font, dataObs, imageBytes = null, pathFilename = '') {\r\n  const obsRows = 5; // Sempre 5 seÃ§Ãµes\r\n  const headers = [\r\n    \"1. Objetivos:\",\r\n    \"2. Campo de AplicaÃ§Ã£o:\", \r\n    \"3. DefiniÃ§Ãµes:\",\r\n    \"4. Abreviaturas:\",\r\n    \"5. ObservaÃ§Ãµes:\"\r\n  ];\r\n  \r\n  // Garante que temos exatamente 5 seÃ§Ãµes na ordem correta\r\n  const safeDataObs = Array.from({ length: obsRows }, (_, i) => {\r\n    if (Array.isArray(dataObs) && Array.isArray(dataObs[i])) {\r\n      return dataObs[i];\r\n    } else if (Array.isArray(dataObs) && dataObs[i] !== undefined) {\r\n      return [dataObs[i]]; // Converte string em array se necessÃ¡rio\r\n    } else {\r\n      return [\"\"]; // SeÃ§Ã£o vazia\r\n    }\r\n  });\r\n\r\n  console.log('ðŸ” DEBUG - SeÃ§Ãµes processadas para PDF:', safeDataObs.map((section, i) => \r\n    `${headers[i]} -> \"${section[0] ? section[0].substring(0, 50) : 'vazio'}...\"`\r\n  ));\r\n\r\n  const fontSize = 8;\r\n  const maxWidth = obsColWidth[0] - 8;\r\n  const lineHeight = fontSize + 2;\r\n  const headerHeight = 25;\r\n  const minContentHeight = 30;\r\n  const pageBottomMargin = 50; // Margem inferior da pÃ¡gina\r\n  const maxYPosition = pageBottomMargin; // PosiÃ§Ã£o Y mÃ­nima na pÃ¡gina\r\n\r\n  let currentPage = page;\r\n  let yPos = yStart;\r\n  let allPages = [page]; // Array para armazenar todas as pÃ¡ginas criadas\r\n  \r\n  // FunÃ§Ã£o auxiliar para criar nova pÃ¡gina\r\n  const createNewPage = async () => {\r\n    const newPage = currentPage.doc.addPage(pageSize);\r\n    await addHeader(newPage, font, '', imageBytes, pathFilename);\r\n    allPages.push(newPage);\r\n    currentPage = newPage;\r\n    yPos = yStart; // Reset da posiÃ§Ã£o Y para o topo da nova pÃ¡gina\r\n    return newPage;\r\n  };\r\n\r\n  // FunÃ§Ã£o auxiliar para verificar se hÃ¡ espaÃ§o suficiente na pÃ¡gina atual\r\n  const hasSpaceForContent = (requiredHeight) => {\r\n    return yPos - requiredHeight >= maxYPosition;\r\n  };\r\n\r\n  // FunÃ§Ã£o auxiliar para dividir texto em chunks que cabem na pÃ¡gina\r\n  const splitTextForPages = (lines, availableHeight) => {\r\n    const linesPerPage = Math.floor((availableHeight - 16) / lineHeight); // -16 para padding\r\n    const chunks = [];\r\n    \r\n    for (let i = 0; i < lines.length; i += linesPerPage) {\r\n      chunks.push(lines.slice(i, i + linesPerPage));\r\n    }\r\n    \r\n    return chunks;\r\n  };\r\n  \r\n  // Desenha cada seÃ§Ã£o\r\n  for (let i = 0; i < obsRows; i++) {\r\n    const text = safeDataObs[i][0] || '';\r\n    const lines = wrapText(text, font, fontSize, maxWidth);\r\n    const contentHeight = Math.max(minContentHeight, lines.length * lineHeight + 16);\r\n    const sectionHeight = headerHeight + contentHeight;\r\n    \r\n    // Verifica se a seÃ§Ã£o completa cabe na pÃ¡gina atual\r\n    if (!hasSpaceForContent(sectionHeight)) {\r\n      // Se nem o header cabe, cria nova pÃ¡gina\r\n      if (!hasSpaceForContent(headerHeight)) {\r\n        await createNewPage();\r\n      }\r\n      \r\n      // Se ainda nÃ£o cabe apÃ³s nova pÃ¡gina, divide o conteÃºdo\r\n      if (!hasSpaceForContent(sectionHeight)) {\r\n        // Desenha header na pÃ¡gina atual\r\n        currentPage.drawRectangle({\r\n          x: xStart,\r\n          y: yPos - headerHeight,\r\n          width: obsColWidth[0],\r\n          height: headerHeight,\r\n          color: rgb(0.7, 0.7, 0.7),\r\n          borderColor: rgb(0, 0, 0),\r\n          borderWidth: 1,\r\n        });\r\n        \r\n        currentPage.drawText(headers[i], {\r\n          x: xStart + 8,\r\n          y: yPos - 15,\r\n          size: 8,\r\n          font,\r\n          color: rgb(0, 0, 0),\r\n        });\r\n        \r\n        yPos -= headerHeight;\r\n        \r\n        // Calcula quanto espaÃ§o disponÃ­vel temos para conteÃºdo na pÃ¡gina atual\r\n        const availableSpaceCurrentPage = yPos - maxYPosition;\r\n        \r\n        // Divide o texto em chunks que cabem nas pÃ¡ginas\r\n        const textChunks = splitTextForPages(lines, availableSpaceCurrentPage);\r\n        \r\n        // Desenha primeiro chunk na pÃ¡gina atual\r\n        if (textChunks.length > 0) {\r\n          const firstChunkHeight = Math.max(minContentHeight, textChunks[0].length * lineHeight + 16);\r\n          \r\n          currentPage.drawRectangle({\r\n            x: xStart,\r\n            y: yPos - firstChunkHeight,\r\n            width: obsColWidth[0],\r\n            height: firstChunkHeight,\r\n            borderColor: rgb(0, 0, 0),\r\n            borderWidth: 1,\r\n          });\r\n          \r\n          let textY = yPos - 12;\r\n          for (let j = 0; j < textChunks[0].length; j++) {\r\n            currentPage.drawText(textChunks[0][j], {\r\n              x: xStart + 4,\r\n              y: textY - j * lineHeight,\r\n              size: fontSize,\r\n              font,\r\n              color: rgb(0, 0, 0),\r\n              maxWidth: maxWidth,\r\n            });\r\n          }\r\n          \r\n          yPos -= firstChunkHeight;\r\n        }\r\n        \r\n        // Desenha chunks restantes em novas pÃ¡ginas\r\n        for (let chunkIndex = 1; chunkIndex < textChunks.length; chunkIndex++) {\r\n          await createNewPage();\r\n          \r\n          const chunk = textChunks[chunkIndex];\r\n          const chunkHeight = Math.max(minContentHeight, chunk.length * lineHeight + 16);\r\n          \r\n          // Desenha header de continuaÃ§Ã£o (mais claro)\r\n          currentPage.drawRectangle({\r\n            x: xStart,\r\n            y: yPos - headerHeight,\r\n            width: obsColWidth[0],\r\n            height: headerHeight,\r\n            color: rgb(0.85, 0.85, 0.85), // Cor mais clara para indicar continuaÃ§Ã£o\r\n            borderColor: rgb(0, 0, 0),\r\n            borderWidth: 1,\r\n          });\r\n          \r\n          currentPage.drawText(`${headers[i]} (continuaÃ§Ã£o)`, {\r\n            x: xStart + 8,\r\n            y: yPos - 15,\r\n            size: 8,\r\n            font,\r\n            color: rgb(0, 0, 0),\r\n          });\r\n          \r\n          yPos -= headerHeight;\r\n          \r\n          // Desenha conteÃºdo da continuaÃ§Ã£o\r\n          currentPage.drawRectangle({\r\n            x: xStart,\r\n            y: yPos - chunkHeight,\r\n            width: obsColWidth[0],\r\n            height: chunkHeight,\r\n            borderColor: rgb(0, 0, 0),\r\n            borderWidth: 1,\r\n          });\r\n          \r\n          let textY = yPos - 12;\r\n          for (let j = 0; j < chunk.length; j++) {\r\n            currentPage.drawText(chunk[j], {\r\n              x: xStart + 4,\r\n              y: textY - j * lineHeight,\r\n              size: fontSize,\r\n              font,\r\n              color: rgb(0, 0, 0),\r\n              maxWidth: maxWidth,\r\n            });\r\n          }\r\n          \r\n          yPos -= chunkHeight;\r\n        }\r\n        \r\n      } else {\r\n        // A seÃ§Ã£o cabe inteira na nova pÃ¡gina\r\n        await createNewPage();\r\n        \r\n        // Desenha header\r\n        currentPage.drawRectangle({\r\n          x: xStart,\r\n          y: yPos - headerHeight,\r\n          width: obsColWidth[0],\r\n          height: headerHeight,\r\n          color: rgb(0.7, 0.7, 0.7),\r\n          borderColor: rgb(0, 0, 0),\r\n          borderWidth: 1,\r\n        });\r\n        \r\n        currentPage.drawText(headers[i], {\r\n          x: xStart + 8,\r\n          y: yPos - 15,\r\n          size: 8,\r\n          font,\r\n          color: rgb(0, 0, 0),\r\n        });\r\n        \r\n        // Desenha Ã¡rea de conteÃºdo\r\n        currentPage.drawRectangle({\r\n          x: xStart,\r\n          y: yPos - sectionHeight,\r\n          width: obsColWidth[0],\r\n          height: contentHeight,\r\n          borderColor: rgb(0, 0, 0),\r\n          borderWidth: 1,\r\n        });\r\n        \r\n        // Desenha conteÃºdo\r\n        let textY = yPos - headerHeight - 12;\r\n        for (let j = 0; j < lines.length; j++) {\r\n          currentPage.drawText(lines[j], {\r\n            x: xStart + 4,\r\n            y: textY - j * lineHeight,\r\n            size: fontSize,\r\n            font,\r\n            color: rgb(0, 0, 0),\r\n            maxWidth: maxWidth,\r\n          });\r\n        }\r\n        \r\n        yPos -= sectionHeight;\r\n      }\r\n    } else {\r\n      // A seÃ§Ã£o cabe inteira na pÃ¡gina atual\r\n      \r\n      // Desenha header cinza\r\n      currentPage.drawRectangle({\r\n        x: xStart,\r\n        y: yPos - headerHeight,\r\n        width: obsColWidth[0],\r\n        height: headerHeight,\r\n        color: rgb(0.7, 0.7, 0.7),\r\n        borderColor: rgb(0, 0, 0),\r\n        borderWidth: 1,\r\n      });\r\n      \r\n      // Texto do header\r\n      currentPage.drawText(headers[i], {\r\n        x: xStart + 8,\r\n        y: yPos - 15,\r\n        size: 8,\r\n        font,\r\n        color: rgb(0, 0, 0),\r\n      });\r\n      \r\n      // Desenha Ã¡rea de conteÃºdo\r\n      currentPage.drawRectangle({\r\n        x: xStart,\r\n        y: yPos - sectionHeight,\r\n        width: obsColWidth[0],\r\n        height: contentHeight,\r\n        borderColor: rgb(0, 0, 0),\r\n        borderWidth: 1,\r\n      });\r\n      \r\n      // Desenha conteÃºdo\r\n      let textY = yPos - headerHeight - 12;\r\n      for (let j = 0; j < lines.length; j++) {\r\n        currentPage.drawText(lines[j], {\r\n          x: xStart + 4,\r\n          y: textY - j * lineHeight,\r\n          size: fontSize,\r\n          font,\r\n          color: rgb(0, 0, 0),\r\n          maxWidth: maxWidth,\r\n        });\r\n      }\r\n      \r\n      yPos -= sectionHeight;\r\n    }\r\n  }\r\n  \r\n  // Retorna informaÃ§Ãµes sobre as pÃ¡ginas criadas\r\n  return {\r\n    totalHeight: 0, // NÃ£o aplicÃ¡vel com mÃºltiplas pÃ¡ginas\r\n    pages: allPages,\r\n    currentPage: currentPage,\r\n    currentYPosition: yPos\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}