{"ast":null,"code":"import{rgb}from'pdf-lib';import{xStart,yStart,wrapText}from'./pdfBase';// Template 1 - Larguras ajustadas para melhor acomodar texto\n// Fluxo, Descrição, Responsável, Documentos Associados, Instruções\nexport const colWidths=[65,200,60,95,95];export const obsColWidth=[515];// Mantém o tamanho atual\nexport const obsRowHeight=25;export const spaceBetweenTables=20;// Template 2 - Larguras ajustadas para melhor distribuição do conteúdo\nexport const colWidthTemplate2=[140,200,50,50,50,50];// Função para obter o número de linhas da tabela de observações\nexport function getObsRows(dataObs){// Garante pelo menos 3 linhas\nreturn Math.max(3,Array.isArray(dataObs)?dataObs.length:0);}// Função para desenhar a tabela de observações\nexport function drawObsTable(page,font,dataObs){const obsRows=getObsRows(dataObs);const safeDataObs=Array.from({length:obsRows},(_,i)=>Array.isArray(dataObs)&&Array.isArray(dataObs[i])?dataObs[i]:[\"\"]);const fontSize=6;const maxWidth=obsColWidth[0]-8;const lineHeight=fontSize+2;const rowHeights=safeDataObs.map(row=>{const text=row[0]||'';const lines=wrapText(text,font,fontSize,maxWidth);return Math.max(obsRowHeight,lines.length*lineHeight+16);// 16 = padding\n});let yPos=yStart;for(let i=0;i<=obsRows;i++){page.drawLine({start:{x:xStart,y:yPos},end:{x:xStart+obsColWidth[0],y:yPos},thickness:1,color:rgb(0,0,0)});yPos-=rowHeights[i]||0;}// Linhas verticais\npage.drawLine({start:{x:xStart,y:yStart},end:{x:xStart,y:yStart-rowHeights.reduce((a,b)=>a+b,0)},thickness:1,color:rgb(0,0,0)});page.drawLine({start:{x:xStart+obsColWidth[0],y:yStart},end:{x:xStart+obsColWidth[0],y:yStart-rowHeights.reduce((a,b)=>a+b,0)},thickness:1,color:rgb(0,0,0)});// Dados\nyPos=yStart;for(let row=0;row<obsRows;row++){const text=safeDataObs[row][0]||'';const lines=wrapText(text,font,fontSize,maxWidth);let textY=yPos-12;for(let i=0;i<lines.length;i++){page.drawText(lines[i],{x:xStart+4,y:textY-i*lineHeight,size:fontSize,font,color:rgb(0,0,0),maxWidth:maxWidth});}yPos-=rowHeights[row];}return rowHeights.reduce((a,b)=>a+b,0);}// Função para desenhar as linhas da tabela principal\nexport function drawTableLines(page,obsTableHeight){let yOrigin=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let rowHeights=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];// Validate inputs to prevent NaN\nif(!Array.isArray(rowHeights)||rowHeights.length===0){rowHeights=[50];// Default height\n}const safeObsTableHeight=typeof obsTableHeight==='number'&&!isNaN(obsTableHeight)?obsTableHeight:0;const totalWidth=colWidths.reduce((a,b)=>a+b,0);let yPos=yOrigin!==null?yOrigin:yStart-safeObsTableHeight-spaceBetweenTables;console.log(\"drawTableLines - obsTableHeight:\",safeObsTableHeight);console.log(\"drawTableLines - yPos start:\",yPos);console.log(\"drawTableLines - rowHeights:\",rowHeights);// Desenha linhas horizontais (excluindo a primeira linha do header)\nfor(let i=1;i<=rowHeights.length;i++){const currentY=yPos-rowHeights.slice(0,i).reduce((a,b)=>a+(b||0),0);console.log(\"Drawing horizontal line \".concat(i,\" at y: \").concat(currentY));page.drawLine({start:{x:xStart,y:currentY},end:{x:xStart+totalWidth,y:currentY},thickness:1,color:rgb(0,0,0)});}// Desenha linhas verticais apenas para o corpo da tabela (abaixo do header)\nlet xPos=xStart;const startY=yOrigin!==null?yOrigin:yStart-safeObsTableHeight-spaceBetweenTables;const headerHeight=rowHeights[0]||50;const bodyStartY=startY-headerHeight;// Inicia abaixo do header\nconst endY=startY-rowHeights.reduce((a,b)=>a+(b||0),0);console.log(\"drawTableLines - vertical lines bodyStartY:\",bodyStartY,\"endY:\",endY);for(let j=0;j<=colWidths.length;j++){page.drawLine({start:{x:xPos,y:bodyStartY},end:{x:xPos,y:endY},thickness:1,color:rgb(0,0,0)});xPos+=colWidths[j]||0;}}// Função para desenhar os cabeçalhos da tabela principal\nexport function drawHeaders(page,headers,font,obsTableHeight){let yOrigin=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let rowHeights=arguments.length>5&&arguments[5]!==undefined?arguments[5]:[];// Validate inputs\nconst safeHeaders=Array.isArray(headers)?headers:[];const safeRowHeights=Array.isArray(rowHeights)&&rowHeights.length>0?rowHeights:[50];const safeObsTableHeight=typeof obsTableHeight==='number'&&!isNaN(obsTableHeight)?obsTableHeight:0;let xPos=xStart;const yHeaders=yOrigin!==null?yOrigin:yStart-safeObsTableHeight-spaceBetweenTables;const headerHeight=safeRowHeights[0]||50;console.log(\"drawHeaders - yHeaders:\",yHeaders,\"headerHeight:\",headerHeight);safeHeaders.forEach((header,col)=>{const colWidth=colWidths[col]||100;// Default width if undefined\n// Desenha o fundo cinza do header com bordas (igual ao Template 2)\npage.drawRectangle({x:xPos,y:yHeaders-headerHeight,width:colWidth,height:headerHeight,color:rgb(0.7,0.7,0.7),borderColor:rgb(0,0,0),borderWidth:1});const lines=header.split('\\n');const fontSize=8;const lineHeight=10;const totalTextHeight=lines.length*lineHeight;let startY=yHeaders-(headerHeight-totalTextHeight)/2-fontSize;lines.forEach((line,idx)=>{const textWidth=font.widthOfTextAtSize(line,fontSize);const textX=xPos+(colWidth-textWidth)/2;const textY=startY-idx*lineHeight;page.drawText(line,{x:textX,y:textY,size:fontSize,font,color:rgb(0,0,0)});});xPos+=colWidths[col]||100;});}// Função para desenhar a tabela do Template 2\nexport function drawTemplate2Table(page,font,yStart,atividades,headers){const rowHeight=20;let yPos=yStart;// Cabeçalhos\nlet xPos=xStart;headers.forEach((header,idx)=>{page.drawText(header,{x:xPos+4,y:yPos-14,size:10,font});xPos+=colWidthTemplate2[idx];});// Grid horizontal\nlet totalRows=atividades.length+1;// +1 para header\nlet gridY=yPos;for(let i=0;i<=totalRows;i++){page.drawLine({start:{x:xStart,y:gridY},end:{x:xStart+colWidthTemplate2.reduce((a,b)=>a+b,0),y:gridY},thickness:1,color:rgb(0,0,0)});gridY-=rowHeight;}// Grid vertical\nxPos=xStart;for(let j=0;j<=colWidthTemplate2.length;j++){page.drawLine({start:{x:xPos,y:yPos},end:{x:xPos,y:yPos-rowHeight*totalRows},thickness:1,color:rgb(0,0,0)});xPos+=colWidthTemplate2[j]||0;}}","map":{"version":3,"names":["rgb","xStart","yStart","wrapText","colWidths","obsColWidth","obsRowHeight","spaceBetweenTables","colWidthTemplate2","getObsRows","dataObs","Math","max","Array","isArray","length","drawObsTable","page","font","obsRows","safeDataObs","from","_","i","fontSize","maxWidth","lineHeight","rowHeights","map","row","text","lines","yPos","drawLine","start","x","y","end","thickness","color","reduce","a","b","textY","drawText","size","drawTableLines","obsTableHeight","yOrigin","arguments","undefined","safeObsTableHeight","isNaN","totalWidth","console","log","currentY","slice","concat","xPos","startY","headerHeight","bodyStartY","endY","j","drawHeaders","headers","safeHeaders","safeRowHeights","yHeaders","forEach","header","col","colWidth","drawRectangle","width","height","borderColor","borderWidth","split","totalTextHeight","line","idx","textWidth","widthOfTextAtSize","textX","drawTemplate2Table","atividades","rowHeight","totalRows","gridY"],"sources":["C:/Users/António Gonçalves/Desktop/Magna-ISO9001-Frontend/src/utils/pdfTables.js"],"sourcesContent":["import { rgb } from 'pdf-lib';\r\nimport { xStart, yStart, wrapText } from './pdfBase';\r\n\r\n// Template 1 - Larguras ajustadas para melhor acomodar texto\r\n// Fluxo, Descrição, Responsável, Documentos Associados, Instruções\r\nexport const colWidths = [65, 200, 60, 95, 95];\r\nexport const obsColWidth = [515]; // Mantém o tamanho atual\r\nexport const obsRowHeight = 25;\r\nexport const spaceBetweenTables = 20;\r\n\r\n// Template 2 - Larguras ajustadas para melhor distribuição do conteúdo\r\nexport const colWidthTemplate2 = [140, 200, 50, 50, 50, 50];\r\n\r\n// Função para obter o número de linhas da tabela de observações\r\nexport function getObsRows(dataObs) {\r\n  // Garante pelo menos 3 linhas\r\n  return Math.max(3, Array.isArray(dataObs) ? dataObs.length : 0);\r\n}\r\n\r\n// Função para desenhar a tabela de observações\r\nexport function drawObsTable(page, font, dataObs) {\r\n  const obsRows = getObsRows(dataObs);\r\n  const safeDataObs = Array.from({ length: obsRows }, (_, i) =>\r\n    Array.isArray(dataObs) && Array.isArray(dataObs[i]) ? dataObs[i] : [\"\"]\r\n  );\r\n\r\n  const fontSize = 6;\r\n  const maxWidth = obsColWidth[0] - 8;\r\n  const lineHeight = fontSize + 2;\r\n\r\n  const rowHeights = safeDataObs.map(row => {\r\n    const text = row[0] || '';\r\n    const lines = wrapText(text, font, fontSize, maxWidth);\r\n    return Math.max(obsRowHeight, lines.length * lineHeight + 16); // 16 = padding\r\n  });\r\n\r\n  let yPos = yStart;\r\n  for (let i = 0; i <= obsRows; i++) {\r\n    page.drawLine({\r\n      start: { x: xStart, y: yPos },\r\n      end: { x: xStart + obsColWidth[0], y: yPos },\r\n      thickness: 1,\r\n      color: rgb(0, 0, 0),\r\n    });\r\n    yPos -= rowHeights[i] || 0;\r\n  }\r\n\r\n  // Linhas verticais\r\n  page.drawLine({\r\n    start: { x: xStart, y: yStart },\r\n    end: { x: xStart, y: yStart - rowHeights.reduce((a, b) => a + b, 0) },\r\n    thickness: 1,\r\n    color: rgb(0, 0, 0),\r\n  });\r\n  page.drawLine({\r\n    start: { x: xStart + obsColWidth[0], y: yStart },\r\n    end: { x: xStart + obsColWidth[0], y: yStart - rowHeights.reduce((a, b) => a + b, 0) },\r\n    thickness: 1,\r\n    color: rgb(0, 0, 0),\r\n  });\r\n\r\n  // Dados\r\n  yPos = yStart;\r\n  for (let row = 0; row < obsRows; row++) {\r\n    const text = safeDataObs[row][0] || '';\r\n    const lines = wrapText(text, font, fontSize, maxWidth);\r\n    let textY = yPos - 12;\r\n    for (let i = 0; i < lines.length; i++) {\r\n      page.drawText(lines[i], {\r\n        x: xStart + 4,\r\n        y: textY - i * lineHeight,\r\n        size: fontSize,\r\n        font,\r\n        color: rgb(0, 0, 0),\r\n        maxWidth: maxWidth,\r\n      });\r\n    }\r\n    yPos -= rowHeights[row];\r\n  }\r\n\r\n  return rowHeights.reduce((a, b) => a + b, 0);\r\n}\r\n\r\n// Função para desenhar as linhas da tabela principal\r\nexport function drawTableLines(page, obsTableHeight, yOrigin = null, rowHeights = []) {\r\n  // Validate inputs to prevent NaN\r\n  if (!Array.isArray(rowHeights) || rowHeights.length === 0) {\r\n    rowHeights = [50]; // Default height\r\n  }\r\n  \r\n  const safeObsTableHeight = typeof obsTableHeight === 'number' && !isNaN(obsTableHeight) ? obsTableHeight : 0;\r\n  const totalWidth = colWidths.reduce((a, b) => a + b, 0);\r\n  let yPos = yOrigin !== null ? yOrigin : yStart - safeObsTableHeight - spaceBetweenTables;\r\n  \r\n  console.log(\"drawTableLines - obsTableHeight:\", safeObsTableHeight);\r\n  console.log(\"drawTableLines - yPos start:\", yPos);\r\n  console.log(\"drawTableLines - rowHeights:\", rowHeights);\r\n\r\n  // Desenha linhas horizontais (excluindo a primeira linha do header)\r\n  for (let i = 1; i <= rowHeights.length; i++) {\r\n    const currentY = yPos - (rowHeights.slice(0, i).reduce((a, b) => a + (b || 0), 0));\r\n    console.log(`Drawing horizontal line ${i} at y: ${currentY}`);\r\n    page.drawLine({\r\n      start: { x: xStart, y: currentY },\r\n      end: { x: xStart + totalWidth, y: currentY },\r\n      thickness: 1,\r\n      color: rgb(0, 0, 0),\r\n    });\r\n  }\r\n\r\n  // Desenha linhas verticais apenas para o corpo da tabela (abaixo do header)\r\n  let xPos = xStart;\r\n  const startY = yOrigin !== null ? yOrigin : yStart - safeObsTableHeight - spaceBetweenTables;\r\n  const headerHeight = rowHeights[0] || 50;\r\n  const bodyStartY = startY - headerHeight; // Inicia abaixo do header\r\n  const endY = startY - rowHeights.reduce((a, b) => a + (b || 0), 0);\r\n  \r\n  console.log(\"drawTableLines - vertical lines bodyStartY:\", bodyStartY, \"endY:\", endY);\r\n  \r\n  for (let j = 0; j <= colWidths.length; j++) {\r\n    page.drawLine({\r\n      start: { x: xPos, y: bodyStartY },\r\n      end: { x: xPos, y: endY },\r\n      thickness: 1,\r\n      color: rgb(0, 0, 0),\r\n    });\r\n    xPos += colWidths[j] || 0;\r\n  }\r\n}\r\n\r\n// Função para desenhar os cabeçalhos da tabela principal\r\nexport function drawHeaders(page, headers, font, obsTableHeight, yOrigin = null, rowHeights = []) {\r\n  // Validate inputs\r\n  const safeHeaders = Array.isArray(headers) ? headers : [];\r\n  const safeRowHeights = Array.isArray(rowHeights) && rowHeights.length > 0 ? rowHeights : [50];\r\n  const safeObsTableHeight = typeof obsTableHeight === 'number' && !isNaN(obsTableHeight) ? obsTableHeight : 0;\r\n  \r\n  let xPos = xStart;\r\n  const yHeaders = yOrigin !== null ? yOrigin : yStart - safeObsTableHeight - spaceBetweenTables;\r\n  const headerHeight = safeRowHeights[0] || 50;\r\n\r\n  console.log(\"drawHeaders - yHeaders:\", yHeaders, \"headerHeight:\", headerHeight);\r\n\r\n  safeHeaders.forEach((header, col) => {\r\n    const colWidth = colWidths[col] || 100; // Default width if undefined\r\n    \r\n    // Desenha o fundo cinza do header com bordas (igual ao Template 2)\r\n    page.drawRectangle({\r\n      x: xPos,\r\n      y: yHeaders - headerHeight,\r\n      width: colWidth,\r\n      height: headerHeight,\r\n      color: rgb(0.7, 0.7, 0.7),\r\n      borderColor: rgb(0, 0, 0),\r\n      borderWidth: 1,\r\n    });\r\n    \r\n    const lines = header.split('\\n');\r\n    const fontSize = 8;\r\n    const lineHeight = 10;\r\n    const totalTextHeight = lines.length * lineHeight;\r\n    let startY = yHeaders - ((headerHeight - totalTextHeight) / 2) - fontSize;\r\n\r\n    lines.forEach((line, idx) => {\r\n      const textWidth = font.widthOfTextAtSize(line, fontSize);\r\n      const textX = xPos + (colWidth - textWidth) / 2;\r\n      const textY = startY - idx * lineHeight;\r\n\r\n      page.drawText(line, {\r\n        x: textX,\r\n        y: textY,\r\n        size: fontSize,\r\n        font,\r\n        color: rgb(0, 0, 0),\r\n      });\r\n    });\r\n\r\n    xPos += colWidths[col] || 100;\r\n  });\r\n}\r\n\r\n// Função para desenhar a tabela do Template 2\r\nexport function drawTemplate2Table(page, font, yStart, atividades, headers) {\r\n  const rowHeight = 20;\r\n  let yPos = yStart;\r\n\r\n  // Cabeçalhos\r\n  let xPos = xStart;\r\n  headers.forEach((header, idx) => {\r\n    page.drawText(header, { x: xPos + 4, y: yPos - 14, size: 10, font });\r\n    xPos += colWidthTemplate2[idx];\r\n  });\r\n\r\n  // Grid horizontal\r\n  let totalRows = atividades.length + 1; // +1 para header\r\n  let gridY = yPos;\r\n  for (let i = 0; i <= totalRows; i++) {\r\n    page.drawLine({\r\n      start: { x: xStart, y: gridY },\r\n      end: { x: xStart + colWidthTemplate2.reduce((a, b) => a + b, 0), y: gridY },\r\n      thickness: 1,\r\n      color: rgb(0, 0, 0),\r\n    });\r\n    gridY -= rowHeight;\r\n  }\r\n\r\n  // Grid vertical\r\n  xPos = xStart;\r\n  for (let j = 0; j <= colWidthTemplate2.length; j++) {\r\n    page.drawLine({\r\n      start: { x: xPos, y: yPos },\r\n      end: { x: xPos, y: yPos - rowHeight * totalRows },\r\n      thickness: 1,\r\n      color: rgb(0, 0, 0),\r\n    });\r\n    xPos += colWidthTemplate2[j] || 0;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}