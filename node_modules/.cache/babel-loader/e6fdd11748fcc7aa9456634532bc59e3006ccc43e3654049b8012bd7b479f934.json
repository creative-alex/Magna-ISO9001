{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const InstrucoesTrabalho=_ref=>{let{currentValue,onChange,originalFilename,isEditable=true,// Nova prop para controlar editabilidade\ncanEdit=true// Nova prop para controlar se pode editar (permiss√µes)\n}=_ref;const[instrucoesDisponiveis,setInstrucoesDisponiveis]=useState([]);const[instrucoesSelecionadas,setInstrucoesSelecionadas]=useState([]);const[showModal,setShowModal]=useState(false);const[loading,setLoading]=useState(false);const[uploading,setUploading]=useState(false);// Estados para links de v√≠deo\nconst[videoLink,setVideoLink]=useState('');const[videoTitle,setVideoTitle]=useState('');const[showVideoForm,setShowVideoForm]=useState(false);const[currentFolderPath,setCurrentFolderPath]=useState('');// Fun√ß√£o para verificar se uma entrada √© um v√≠deo\nconst isVideoEntry=entry=>{return entry.startsWith('[VIDEO]');};// Fun√ß√£o para validar URLs de v√≠deo\nconst isValidVideoUrl=url=>{try{const urlObj=new URL(url);const hostname=urlObj.hostname.toLowerCase();// Suporte para YouTube, Vimeo, e outros servi√ßos de v√≠deo comuns\nreturn hostname.includes('youtube.com')||hostname.includes('youtu.be')||hostname.includes('vimeo.com')||hostname.includes('dailymotion.com')||hostname.includes('twitch.tv')||hostname.includes('wistia.com')||hostname.includes('loom.com')||url.match(/\\.(mp4|avi|mov|wmv|flv|webm)$/i)// Arquivos de v√≠deo diretos\n;}catch(_unused){return false;}};// Fun√ß√£o para extrair t√≠tulo autom√°tico de URLs do YouTube\nconst extractYouTubeTitle=async url=>{try{const urlObj=new URL(url);if(urlObj.hostname.includes('youtube.com')||urlObj.hostname.includes('youtu.be')){// Extrai o ID do v√≠deo\nlet videoId;if(urlObj.hostname.includes('youtu.be')){videoId=urlObj.pathname.substring(1);}else{videoId=urlObj.searchParams.get('v');}if(videoId){// Retorna um t√≠tulo padr√£o simples\nreturn\"V\\xEDdeo YouTube\";}}return'';}catch(_unused2){return'';}};// Fun√ß√£o para adicionar link de v√≠deo\nconst handleAddVideoLink=async()=>{if(!videoLink.trim()){alert('Por favor, insira um link de v√≠deo v√°lido.');return;}if(!isValidVideoUrl(videoLink)){alert('URL de v√≠deo n√£o suportada. Suporte: YouTube, Vimeo, Dailymotion, Twitch, Loom, Wistia ou arquivos de v√≠deo diretos.');return;}let title=videoTitle.trim();if(!title){// Tenta extrair t√≠tulo automaticamente\ntitle=await extractYouTubeTitle(videoLink);if(!title){// Se n√£o conseguir extrair, usa um t√≠tulo padr√£o\nconst urlObj=new URL(videoLink);title=\"V\\xEDdeo - \".concat(urlObj.hostname);}}// Formato especial para links de v√≠deo: inclui t√≠tulo e URL para o PDF\nconst videoEntry=\"[VIDEO] \".concat(title,\"||\").concat(videoLink);// Adiciona aos selecionados\nconst novasInstrucoes=[...instrucoesSelecionadas,videoEntry];setInstrucoesSelecionadas(novasInstrucoes);// Atualiza o valor no componente pai\nconst novoValor=novasInstrucoes.join('\\n');onChange(novoValor);// Limpa o formul√°rio\nsetVideoLink('');setVideoTitle('');setShowVideoForm(false);};// Fun√ß√£o para abrir link de v√≠deo\nconst handleOpenVideoLink=videoEntry=>{const urlMatch=videoEntry.match(/\\| (.+)$/);if(urlMatch){const url=urlMatch[1];window.open(url,'_blank');}};// Fun√ß√£o para verificar se uma entrada √© um link de v√≠deo\nconst isVideoLink=entry=>{return entry.startsWith('[VIDEO]');};// Fun√ß√£o para extrair t√≠tulo do link de v√≠deo\nconst getVideoTitle=videoEntry=>{// Remove o prefixo [VIDEO] e extrai apenas o t√≠tulo (antes do ||)\nconst titlePart=videoEntry.replace('[VIDEO] ','').split('||')[0];return titlePart;};// Fun√ß√£o para extrair URL do link de v√≠deo\nconst getVideoUrl=videoEntry=>{// Extrai a URL (depois do ||)\nconst parts=videoEntry.split('||');return parts.length>1?parts[1]:'';};// Busca Instru√ß√µes de trabalho procedimento da subpasta espec√≠fica baseada no prefixo do ficheiro atual\nconst fetchInstrucoes=async()=>{if(!originalFilename)return;console.log('üîç Procurando Instru√ß√µes de trabalho procedimento para:',originalFilename);// Extrai a pasta principal do originalFilename\nconst parts=originalFilename.split('/');if(parts.length<2){console.log('‚ùå Caminho inv√°lido, deve ter pelo menos pasta/ficheiro');return;}// A pasta principal √© sempre a primeira parte do caminho\nconst mainFolder=parts[0];const currentFileName=parts[parts.length-1];// Nome do ficheiro atual\nconsole.log('üìÅ Pasta principal:',mainFolder);console.log('üìÑ Nome do ficheiro atual:',currentFileName);// Extrai o prefixo do nome do ficheiro (parte antes do primeiro espa√ßo)\nconst filePrefix=currentFileName.split(' ')[0];console.log('üè∑Ô∏è Prefixo do ficheiro:',filePrefix);setLoading(true);try{// Busca todos os ficheiros na pasta principal e suas subpastas\nconst response=await fetch('http://192.168.1.219:8080/files/list-files-tree');if(!response.ok){throw new Error('Erro ao buscar √°rvore de ficheiros');}const fileTree=await response.json();console.log('üå≥ √Årvore de ficheiros recebida');// Encontra a pasta principal na √°rvore\nconst mainFolderNode=fileTree.find(node=>node.type==='folder'&&node.name===mainFolder);if(!mainFolderNode||!mainFolderNode.children){console.log('‚ùå Pasta principal n√£o encontrada ou vazia');setInstrucoesDisponiveis([]);setCurrentFolderPath(mainFolder);return;}// Encontra a subpasta que cont√©m \"Instru√ß√µes de trabalho procedimento\" e termina com o mesmo prefixo do ficheiro atual\nconsole.log('üîç Procurando por pasta que:');console.log('   - Contenha: \"Instru√ß√µes de trabalho procedimento\"');console.log('   - Termine com: \"'+filePrefix+'\"');console.log('üìÇ Pastas dispon√≠veis na pasta principal:');mainFolderNode.children.forEach(node=>{if(node.type==='folder'){console.log(\"   - \\\"\".concat(node.name,\"\\\" (toLowerCase: \\\"\").concat(node.name.toLowerCase(),\"\\\")\"));console.log(\"     Cont\\xE9m \\\"instru\\xE7\\xF5es\\\": \".concat(node.name.toLowerCase().includes('instru√ß√µes de trabalho procedimento')));console.log(\"     Termina com \\\"\".concat(filePrefix,\"\\\": \").concat(node.name.endsWith(filePrefix)));}});let targetSubfolder=mainFolderNode.children.find(node=>node.type==='folder'&&(node.name.toLowerCase().includes('instru√ß√µes de trabalho procedimento')||node.name.toLowerCase().includes('instrucoes de trabalho procedimento'))&&node.name.endsWith(filePrefix));if(!targetSubfolder||!targetSubfolder.children){console.log(\"\\u274C Subpasta de \\\"Instru\\xE7\\xF5es de trabalho procedimento\\\" que termina com \\\"\".concat(filePrefix,\"\\\" n\\xE3o encontrada ou vazia\"));// Tenta uma busca alternativa mais flex√≠vel\nconsole.log('üîÑ Tentando busca alternativa...');const alternativeSubfolder=mainFolderNode.children.find(node=>node.type==='folder'&&(node.name.toLowerCase().includes('instru√ß√µes de trabalho')||node.name.toLowerCase().includes('instrucoes de trabalho'))&&node.name.includes(filePrefix));if(alternativeSubfolder&&alternativeSubfolder.children){console.log(\"\\u2705 Pasta alternativa encontrada: \\\"\".concat(alternativeSubfolder.name,\"\\\"\"));targetSubfolder=alternativeSubfolder;// Usar a pasta alternativa\n}else{setInstrucoesDisponiveis([]);setCurrentFolderPath(\"\".concat(mainFolder,\"/Instru\\xE7\\xF5es de trabalho procedimento \").concat(filePrefix));return;}}console.log(\"\\uD83D\\uDCC2 Usando subpasta: \".concat(targetSubfolder.name));// Fun√ß√£o recursiva para extrair todos os ficheiros da subpasta espec√≠fica\nconst extractAllFiles=function(nodes){let currentPath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let folderName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let allFiles=[];for(const node of nodes){const fullPath=currentPath?\"\".concat(currentPath,\"/\").concat(node.name):node.name;if(node.type==='file'){// Adiciona o ficheiro com seu caminho relativo dentro da subpasta\nallFiles.push({name:node.name,path:fullPath,folder:currentPath||folderName});}else if(node.type==='folder'&&node.children){// Recursivamente busca ficheiros nas subpastas\nconst subFiles=extractAllFiles(node.children,fullPath,folderName);allFiles=allFiles.concat(subFiles);}}return allFiles;};// Extrai todos os ficheiros da subpasta espec√≠fica\nconst allFiles=extractAllFiles(targetSubfolder.children,'',targetSubfolder.name);console.log(\"\\uD83D\\uDCCB \".concat(allFiles.length,\" ficheiros encontrados na subpasta \\\"\").concat(targetSubfolder.name,\"\\\"\"));// Filtra para mostrar apenas ficheiros (remove extens√µes para display)\nconst instrucoes=allFiles.map(file=>({displayName:file.name,fullPath:\"\".concat(mainFolder,\"/\").concat(targetSubfolder.name,\"/\").concat(file.path),folder:file.folder}));setInstrucoesDisponiveis(instrucoes);setCurrentFolderPath(\"\".concat(mainFolder,\"/\").concat(targetSubfolder.name));}catch(error){console.error('üö® Erro na busca de Instru√ß√µes de trabalho procedimento:',error);setInstrucoesDisponiveis([]);}finally{setLoading(false);}};// Carrega instru√ß√µes quando o componente √© montado\nuseEffect(()=>{fetchInstrucoes();},[originalFilename]);// Processa o valor atual para extrair instru√ß√µes j√° selecionadas\nuseEffect(()=>{if(currentValue){// Assume que as instru√ß√µes est√£o separadas por v√≠rgula ou quebra de linha\nconst instrucoes=currentValue.split(/[,\\n]/).map(instrucao=>instrucao.trim()).filter(instrucao=>instrucao.length>0);setInstrucoesSelecionadas(instrucoes);}else{setInstrucoesSelecionadas([]);}},[currentValue]);// Fun√ß√£o para fazer upload de nova instru√ß√£o\nconst handleFileUpload=async event=>{const file=event.target.files[0];if(!file)return;if(!originalFilename){alert('N√£o foi poss√≠vel determinar a pasta de destino.');return;}// Usa a subpasta espec√≠fica para upload\nconst parts=originalFilename.split('/');const mainFolder=parts[0];const currentFileName=parts[parts.length-1];const filePrefix=currentFileName.split(' ')[0];// Busca a subpasta correta para Instru√ß√µes de trabalho procedimento\nconst folderPath=\"\".concat(mainFolder,\"/Instru\\xE7\\xF5es de trabalho procedimento \").concat(filePrefix);setUploading(true);try{console.log('Fazendo upload para:',folderPath);const formData=new FormData();formData.append('file',file);formData.append('folderPath',folderPath+'/');const response=await fetch('http://192.168.1.219:8080/files/upload-document',{method:'POST',body:formData});if(response.ok){console.log('Upload realizado com sucesso');// Recarrega a lista de instru√ß√µes\nawait fetchInstrucoes();// Adiciona automaticamente a instru√ß√£o aos selecionados\ntoggleInstrucao(file.name);alert('Instru√ß√£o de trabalho enviada com sucesso!');}else{console.error('Erro no upload:',response.statusText);alert('Erro ao enviar instru√ß√£o de trabalho. Tente novamente.');}}catch(error){console.error('Erro no upload:',error);alert('Erro ao enviar instru√ß√£o de trabalho. Tente novamente.');}finally{setUploading(false);// Limpa o input file\nevent.target.value='';}};// Fun√ß√£o para alternar sele√ß√£o de instru√ß√£o\nconst toggleInstrucao=instrucao=>{let novasInstrucoes;const instrucaoName=typeof instrucao==='string'?instrucao:instrucao.displayName;if(instrucoesSelecionadas.includes(instrucaoName)){// Remove a instru√ß√£o se j√° estiver selecionada\nnovasInstrucoes=instrucoesSelecionadas.filter(inst=>inst!==instrucaoName);}else{// Adiciona a instru√ß√£o se n√£o estiver selecionada\nnovasInstrucoes=[...instrucoesSelecionadas,instrucaoName];}setInstrucoesSelecionadas(novasInstrucoes);// Atualiza o valor no componente pai\nconst novoValor=novasInstrucoes.join('\\n');onChange(novoValor);};// Fun√ß√£o para remover instru√ß√£o espec√≠fica (arquivo ou v√≠deo)\nconst removeInstrucao=instrucao=>{const novasInstrucoes=instrucoesSelecionadas.filter(inst=>inst!==instrucao);setInstrucoesSelecionadas(novasInstrucoes);// Atualiza o valor no componente pai\nconst novoValor=novasInstrucoes.join('\\n');onChange(novoValor);};// Fun√ß√£o para download de instru√ß√£o\nconst handleDownload=instrucaoName=>{// Busca a instru√ß√£o na lista dispon√≠vel para obter o caminho completo\nconst instrucao=instrucoesDisponiveis.find(inst=>(typeof inst==='object'?inst.displayName:inst)===instrucaoName);if(instrucao&&typeof instrucao==='object'){const fullPath=instrucao.fullPath;console.log('Fazendo download de:',fullPath);// URL para download\nconst downloadUrl=\"http://192.168.1.219:8080/files/download/\".concat(encodeURIComponent(fullPath));// Cria um link tempor√°rio para download\nconst link=document.createElement('a');link.href=downloadUrl;link.download=instrucaoName;document.body.appendChild(link);link.click();document.body.removeChild(link);}};// Fun√ß√£o para apagar instru√ß√£o da base de dados\nconst handleDelete=async instrucaoName=>{// Busca a instru√ß√£o na lista dispon√≠vel para obter o caminho completo\nconst instrucao=instrucoesDisponiveis.find(inst=>(typeof inst==='object'?inst.displayName:inst)===instrucaoName);if(instrucao&&typeof instrucao==='object'){const fullPath=instrucao.fullPath;// Confirma a a√ß√£o\nconst confirmDelete=window.confirm(\"Tem certeza que deseja apagar permanentemente o arquivo \\\"\".concat(instrucaoName,\"\\\"?\\nEsta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"));if(!confirmDelete){return;}try{console.log('Apagando arquivo:',fullPath);const response=await fetch(\"http://192.168.1.219:8080/files/delete/\".concat(encodeURIComponent(fullPath)),{method:'DELETE'});if(response.ok){console.log('Arquivo apagado com sucesso');// Remove da lista de selecionados se estiver selecionado\nif(instrucoesSelecionadas.includes(instrucaoName)){removeInstrucao(instrucaoName);}// Recarrega a lista de instru√ß√µes\nawait fetchInstrucoes();alert('Arquivo apagado com sucesso!');}else{console.error('Erro ao apagar arquivo:',response.statusText);alert('Erro ao apagar arquivo. Tente novamente.');}}catch(error){console.error('Erro ao apagar arquivo:',error);alert('Erro ao apagar arquivo. Tente novamente.');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"instrucoes-trabalho-container\",style:{position:'relative',width:'100%',height:'100%'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:currentValue||'',\"data-component\":\"instrucoes-trabalho\",readOnly:true}),/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'50px',height:'100%',padding:'6px',border:'1px solid #ccc',borderRadius:'4px',backgroundColor:isEditable?instrucoesSelecionadas.length>0?'#f9f9f9':'#fff':'#f5f5f5',fontSize:'11px',display:'flex',flexDirection:'column',cursor:isEditable&&canEdit?'pointer':'default',position:'relative',opacity:isEditable&&canEdit?1:0.7},onClick:isEditable&&canEdit?()=>setShowModal(true):undefined,title:isEditable&&canEdit?\"Clique para abrir janela de sele√ß√£o de Instru√ß√µes de trabalho procedimento\":\"\",\"data-current-value\":currentValue||'',children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',color:'#666',borderBottom:instrucoesSelecionadas.length>0?'1px solid #eee':'none',paddingBottom:instrucoesSelecionadas.length>0?'4px':'0',marginBottom:instrucoesSelecionadas.length>0?'4px':'0',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Instru\\xE7\\xF5es (\",instrucoesSelecionadas.length,\")\"]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'9px'},children:\"\\uD83D\\uDCC2\"})]}),instrucoesSelecionadas.length>0?/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',gap:'2px'},children:instrucoesSelecionadas.map((instrucao,index)=>{const isVideo=isVideoLink(instrucao);const displayName=isVideo?getVideoTitle(instrucao):instrucao;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'4px',padding:'2px 0',borderBottom:index<instrucoesSelecionadas.length-1?'1px solid #f0f0f0':'none'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'8px',minWidth:'12px'},children:isVideo?'üé•':'üìÑ'}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1,whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',fontSize:'9px'},title:displayName,children:displayName}),isEditable&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'2px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();removeInstrucao(instrucao);},style:{background:'none',border:'none',color:'#666',cursor:'pointer',fontSize:'12px',padding:'0 4px',borderRadius:'2px',fontSize:'15px'},title:\"Remover Instru\\xE7\\xE3o\",onMouseEnter:e=>e.target.style.backgroundColor='#ffcdd2',onMouseLeave:e=>e.target.style.backgroundColor='transparent',children:\"\\xD7\"})})]},index);})}):/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',alignItems:'center',justifyContent:'center',color:'#999',fontSize:'10px',fontStyle:'italic',textAlign:'center'},children:[\"Clique para abrir janela\",/*#__PURE__*/_jsx(\"br\",{}),\"Instru\\xE7\\xF5es de trabalho procedimento\"]})]}),showModal&&canEdit&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'8px',boxShadow:'0 4px 20px rgba(0,0,0,0.3)',width:'80%',maxWidth:'800px',maxHeight:'80%',display:'flex',flexDirection:'column',overflow:'hidden'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',borderBottom:'1px solid #eee',backgroundColor:'#f8f9fa',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',fontWeight:'bold'},children:\"Instru\\xE7\\xF5es de Trabalho Procedimento\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'4px 0 0 0',fontSize:'12px',color:'#666'},children:currentFolderPath||'Procurando...'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),style:{background:'none',border:'none',fontSize:'20px',cursor:'pointer',color:'#666',padding:'4px 8px',borderRadius:'4px'},onMouseEnter:e=>e.target.style.backgroundColor='#e9ecef',onMouseLeave:e=>e.target.style.backgroundColor='transparent',children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflow:'auto',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',borderBottom:'1px solid #eee',backgroundColor:'#f0f8f0'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileUpload,disabled:uploading,style:{display:'none'},id:\"upload-instrucao\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"upload-instrucao\",style:{display:'inline-block',padding:'8px 16px',backgroundColor:uploading?'#6c757d':'#28a745',color:'white',borderRadius:'4px',cursor:uploading?'not-allowed':'pointer',fontSize:'12px',border:'none',fontWeight:'bold'},children:uploading?'A enviar...':'üìÅ Enviar Nova Instru√ß√£o'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#666',marginTop:'6px'},children:\"Selecione qualquer tipo de ficheiro para enviar para esta subpasta\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px',borderBottom:'1px solid #eee',backgroundColor:'#f0f5ff'},children:!showVideoForm?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowVideoForm(true),style:{padding:'8px 16px',backgroundColor:'#1976d2',color:'white',borderRadius:'4px',cursor:'pointer',fontSize:'12px',border:'none',fontWeight:'bold'},children:\"\\uD83C\\uDFA5 Adicionar Link de V\\xEDdeo\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#666',marginTop:'6px'},children:\"Suporte: YouTube, Vimeo, Dailymotion, Twitch, Loom, Wistia\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',marginBottom:'4px',fontWeight:'bold'},children:\"URL do V\\xEDdeo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:videoLink,onChange:e=>setVideoLink(e.target.value),placeholder:\"https://www.youtube.com/watch?v=...\",style:{width:'100%',padding:'8px',fontSize:'12px',border:'1px solid #ccc',borderRadius:'4px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'12px',marginBottom:'4px',fontWeight:'bold'},children:\"T\\xEDtulo (opcional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:videoTitle,onChange:e=>setVideoTitle(e.target.value),placeholder:\"T\\xEDtulo personalizado do v\\xEDdeo\",style:{width:'100%',padding:'8px',fontSize:'12px',border:'1px solid #ccc',borderRadius:'4px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddVideoLink,style:{padding:'8px 16px',backgroundColor:'#28a745',color:'white',borderRadius:'4px',cursor:'pointer',fontSize:'12px',border:'none'},children:\"Adicionar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowVideoForm(false);setVideoLink('');setVideoTitle('');},style:{padding:'8px 16px',backgroundColor:'#6c757d',color:'white',borderRadius:'4px',cursor:'pointer',fontSize:'12px',border:'none'},children:\"Cancelar\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflow:'auto',minHeight:'300px',padding:'8px'},children:[loading&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',height:'200px',fontSize:'14px',color:'#666'},children:\"\\uD83D\\uDD04 A carregar instru\\xE7\\xF5es...\"}),!loading&&instrucoesDisponiveis.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',height:'200px',fontSize:'14px',color:'#666',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED Nenhuma instru\\xE7\\xE3o encontrada na subpasta:\"}),/*#__PURE__*/_jsx(\"code\",{style:{fontSize:'12px',backgroundColor:'#f5f5f5',padding:'4px 8px',borderRadius:'4px'},children:currentFolderPath||'Caminho n√£o determinado'})]}),!loading&&instrucoesDisponiveis.map((instrucao,index)=>{const instrucaoName=typeof instrucao==='object'?instrucao.displayName:instrucao;const instrucaoFolder=typeof instrucao==='object'?instrucao.folder:'';const isSelected=instrucoesSelecionadas.includes(instrucaoName);return/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',margin:'8px 0',fontSize:'13px',backgroundColor:isSelected?'#e8f5e8':'#f8f9fa',border:isSelected?'2px solid #4caf50':'1px solid #dee2e6',borderRadius:'6px',display:'flex',flexDirection:'column',gap:'8px',transition:'all 0.2s ease'},onMouseEnter:e=>{if(!isSelected){e.currentTarget.style.backgroundColor='#e9ecef';e.currentTarget.style.borderColor='#adb5bd';}},onMouseLeave:e=>{if(!isSelected){e.currentTarget.style.backgroundColor='#f8f9fa';e.currentTarget.style.borderColor='#dee2e6';}},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',flex:1,cursor:'pointer'},onClick:()=>toggleInstrucao(instrucaoName),children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'20px',height:'20px',borderRadius:'50%',backgroundColor:isSelected?'#4caf50':'#dee2e6',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'12px',color:'white',fontWeight:'bold'},children:isSelected?'‚úì':''}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'bold',fontSize:'14px'},children:[\"\\uD83D\\uDCC4 \",instrucaoName]}),instrucaoFolder&&instrucaoFolder!=='(raiz)'&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666',fontStyle:'italic',marginTop:'2px'},children:[\"\\uD83D\\uDCC1 Pasta: \",instrucaoFolder]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDownload(instrucaoName);},style:{padding:'6px 12px',backgroundColor:'#388e3c',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px',fontWeight:'bold'},title:\"Descarregar instru\\xE7\\xE3o\",onMouseEnter:e=>e.target.style.backgroundColor='#2e7d32',onMouseLeave:e=>e.target.style.backgroundColor='#388e3c',children:\"\\u2B07\\uFE0F Baixar\"}),isEditable&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDelete(instrucaoName);},style:{padding:'6px 12px',backgroundColor:'#d32f2f',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px',fontWeight:'bold'},title:\"Apagar instru\\xE7\\xE3o permanentemente\",onMouseEnter:e=>e.target.style.backgroundColor='#c62828',onMouseLeave:e=>e.target.style.backgroundColor='#d32f2f',children:\"\\uD83D\\uDDD1\\uFE0F Apagar\"})]})]})},index);})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',borderTop:'1px solid #eee',backgroundColor:'#f8f9fa',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[instrucoesSelecionadas.length,\" instru\\xE7\\xE3o(\\xF5es) selecionada(s)\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),style:{padding:'8px 16px',fontSize:'12px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontWeight:'bold'},children:\"Fechar\"})})]})]})]})})})]});};export default InstrucoesTrabalho;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InstrucoesTrabalho","_ref","currentValue","onChange","originalFilename","isEditable","canEdit","instrucoesDisponiveis","setInstrucoesDisponiveis","instrucoesSelecionadas","setInstrucoesSelecionadas","showModal","setShowModal","loading","setLoading","uploading","setUploading","videoLink","setVideoLink","videoTitle","setVideoTitle","showVideoForm","setShowVideoForm","currentFolderPath","setCurrentFolderPath","isVideoEntry","entry","startsWith","isValidVideoUrl","url","urlObj","URL","hostname","toLowerCase","includes","match","_unused","extractYouTubeTitle","videoId","pathname","substring","searchParams","get","_unused2","handleAddVideoLink","trim","alert","title","concat","videoEntry","novasInstrucoes","novoValor","join","handleOpenVideoLink","urlMatch","window","open","isVideoLink","getVideoTitle","titlePart","replace","split","getVideoUrl","parts","length","fetchInstrucoes","console","log","mainFolder","currentFileName","filePrefix","response","fetch","ok","Error","fileTree","json","mainFolderNode","find","node","type","name","children","forEach","endsWith","targetSubfolder","alternativeSubfolder","extractAllFiles","nodes","currentPath","arguments","undefined","folderName","allFiles","fullPath","push","path","folder","subFiles","instrucoes","map","file","displayName","error","instrucao","filter","handleFileUpload","event","target","files","folderPath","formData","FormData","append","method","body","toggleInstrucao","statusText","value","instrucaoName","inst","removeInstrucao","handleDownload","downloadUrl","encodeURIComponent","link","document","createElement","href","download","appendChild","click","removeChild","handleDelete","confirmDelete","confirm","className","style","position","width","height","readOnly","minHeight","padding","border","borderRadius","backgroundColor","fontSize","display","flexDirection","cursor","opacity","onClick","color","borderBottom","paddingBottom","marginBottom","justifyContent","alignItems","flex","gap","index","isVideo","minWidth","whiteSpace","overflow","textOverflow","e","stopPropagation","background","onMouseEnter","onMouseLeave","fontStyle","textAlign","top","left","right","bottom","zIndex","boxShadow","maxWidth","maxHeight","margin","fontWeight","disabled","id","htmlFor","marginTop","placeholder","instrucaoFolder","isSelected","transition","currentTarget","borderColor","borderTop"],"sources":["C:/Users/Ant√≥nio Gon√ßalves/Desktop/Magna-ISO9001-Frontend/src/components/InstrucoesTrabalho.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst InstrucoesTrabalho = ({ \r\n  currentValue, \r\n  onChange,\r\n  originalFilename,\r\n  isEditable = true, // Nova prop para controlar editabilidade\r\n  canEdit = true // Nova prop para controlar se pode editar (permiss√µes)\r\n}) => {\r\n  const [instrucoesDisponiveis, setInstrucoesDisponiveis] = useState([]);\r\n  const [instrucoesSelecionadas, setInstrucoesSelecionadas] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  \r\n  // Estados para links de v√≠deo\r\n  const [videoLink, setVideoLink] = useState('');\r\n  const [videoTitle, setVideoTitle] = useState('');\r\n  const [showVideoForm, setShowVideoForm] = useState(false);\r\n\r\n  const [currentFolderPath, setCurrentFolderPath] = useState('');\r\n\r\n  // Fun√ß√£o para verificar se uma entrada √© um v√≠deo\r\n  const isVideoEntry = (entry) => {\r\n    return entry.startsWith('[VIDEO]');\r\n  };\r\n\r\n  // Fun√ß√£o para validar URLs de v√≠deo\r\n  const isValidVideoUrl = (url) => {\r\n    try {\r\n      const urlObj = new URL(url);\r\n      const hostname = urlObj.hostname.toLowerCase();\r\n      \r\n      // Suporte para YouTube, Vimeo, e outros servi√ßos de v√≠deo comuns\r\n      return (\r\n        hostname.includes('youtube.com') ||\r\n        hostname.includes('youtu.be') ||\r\n        hostname.includes('vimeo.com') ||\r\n        hostname.includes('dailymotion.com') ||\r\n        hostname.includes('twitch.tv') ||\r\n        hostname.includes('wistia.com') ||\r\n        hostname.includes('loom.com') ||\r\n        url.match(/\\.(mp4|avi|mov|wmv|flv|webm)$/i) // Arquivos de v√≠deo diretos\r\n      );\r\n    } catch {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Fun√ß√£o para extrair t√≠tulo autom√°tico de URLs do YouTube\r\n  const extractYouTubeTitle = async (url) => {\r\n    try {\r\n      const urlObj = new URL(url);\r\n      if (urlObj.hostname.includes('youtube.com') || urlObj.hostname.includes('youtu.be')) {\r\n        // Extrai o ID do v√≠deo\r\n        let videoId;\r\n        if (urlObj.hostname.includes('youtu.be')) {\r\n          videoId = urlObj.pathname.substring(1);\r\n        } else {\r\n          videoId = urlObj.searchParams.get('v');\r\n        }\r\n        \r\n        if (videoId) {\r\n          // Retorna um t√≠tulo padr√£o simples\r\n          return `V√≠deo YouTube`;\r\n        }\r\n      }\r\n      return '';\r\n    } catch {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  // Fun√ß√£o para adicionar link de v√≠deo\r\n  const handleAddVideoLink = async () => {\r\n    if (!videoLink.trim()) {\r\n      alert('Por favor, insira um link de v√≠deo v√°lido.');\r\n      return;\r\n    }\r\n\r\n    if (!isValidVideoUrl(videoLink)) {\r\n      alert('URL de v√≠deo n√£o suportada. Suporte: YouTube, Vimeo, Dailymotion, Twitch, Loom, Wistia ou arquivos de v√≠deo diretos.');\r\n      return;\r\n    }\r\n\r\n    let title = videoTitle.trim();\r\n    if (!title) {\r\n      // Tenta extrair t√≠tulo automaticamente\r\n      title = await extractYouTubeTitle(videoLink);\r\n      if (!title) {\r\n        // Se n√£o conseguir extrair, usa um t√≠tulo padr√£o\r\n        const urlObj = new URL(videoLink);\r\n        title = `V√≠deo - ${urlObj.hostname}`;\r\n      }\r\n    }\r\n\r\n    // Formato especial para links de v√≠deo: inclui t√≠tulo e URL para o PDF\r\n    const videoEntry = `[VIDEO] ${title}||${videoLink}`;\r\n    \r\n    // Adiciona aos selecionados\r\n    const novasInstrucoes = [...instrucoesSelecionadas, videoEntry];\r\n    setInstrucoesSelecionadas(novasInstrucoes);\r\n    \r\n    // Atualiza o valor no componente pai\r\n    const novoValor = novasInstrucoes.join('\\n');\r\n    onChange(novoValor);\r\n\r\n    // Limpa o formul√°rio\r\n    setVideoLink('');\r\n    setVideoTitle('');\r\n    setShowVideoForm(false);\r\n  };\r\n\r\n  // Fun√ß√£o para abrir link de v√≠deo\r\n  const handleOpenVideoLink = (videoEntry) => {\r\n    const urlMatch = videoEntry.match(/\\| (.+)$/);\r\n    if (urlMatch) {\r\n      const url = urlMatch[1];\r\n      window.open(url, '_blank');\r\n    }\r\n  };\r\n\r\n  // Fun√ß√£o para verificar se uma entrada √© um link de v√≠deo\r\n  const isVideoLink = (entry) => {\r\n    return entry.startsWith('[VIDEO]');\r\n  };\r\n\r\n  // Fun√ß√£o para extrair t√≠tulo do link de v√≠deo\r\n  const getVideoTitle = (videoEntry) => {\r\n    // Remove o prefixo [VIDEO] e extrai apenas o t√≠tulo (antes do ||)\r\n    const titlePart = videoEntry.replace('[VIDEO] ', '').split('||')[0];\r\n    return titlePart;\r\n  };\r\n\r\n  // Fun√ß√£o para extrair URL do link de v√≠deo\r\n  const getVideoUrl = (videoEntry) => {\r\n    // Extrai a URL (depois do ||)\r\n    const parts = videoEntry.split('||');\r\n    return parts.length > 1 ? parts[1] : '';\r\n  };\r\n\r\n  // Busca Instru√ß√µes de trabalho procedimento da subpasta espec√≠fica baseada no prefixo do ficheiro atual\r\n  const fetchInstrucoes = async () => {\r\n    if (!originalFilename) return;\r\n\r\n    console.log('üîç Procurando Instru√ß√µes de trabalho procedimento para:', originalFilename);\r\n    \r\n    // Extrai a pasta principal do originalFilename\r\n    const parts = originalFilename.split('/');\r\n    if (parts.length < 2) {\r\n      console.log('‚ùå Caminho inv√°lido, deve ter pelo menos pasta/ficheiro');\r\n      return;\r\n    }\r\n    \r\n    // A pasta principal √© sempre a primeira parte do caminho\r\n    const mainFolder = parts[0];\r\n    const currentFileName = parts[parts.length - 1]; // Nome do ficheiro atual\r\n    \r\n    console.log('üìÅ Pasta principal:', mainFolder);\r\n    console.log('üìÑ Nome do ficheiro atual:', currentFileName);\r\n    \r\n    // Extrai o prefixo do nome do ficheiro (parte antes do primeiro espa√ßo)\r\n    const filePrefix = currentFileName.split(' ')[0];\r\n    console.log('üè∑Ô∏è Prefixo do ficheiro:', filePrefix);\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Busca todos os ficheiros na pasta principal e suas subpastas\r\n      const response = await fetch('http://192.168.1.219:8080/files/list-files-tree');\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Erro ao buscar √°rvore de ficheiros');\r\n      }\r\n      \r\n      const fileTree = await response.json();\r\n      console.log('üå≥ √Årvore de ficheiros recebida');\r\n      \r\n      // Encontra a pasta principal na √°rvore\r\n      const mainFolderNode = fileTree.find(node => \r\n        node.type === 'folder' && node.name === mainFolder\r\n      );\r\n      \r\n      if (!mainFolderNode || !mainFolderNode.children) {\r\n        console.log('‚ùå Pasta principal n√£o encontrada ou vazia');\r\n        setInstrucoesDisponiveis([]);\r\n        setCurrentFolderPath(mainFolder);\r\n        return;\r\n      }\r\n      \r\n      // Encontra a subpasta que cont√©m \"Instru√ß√µes de trabalho procedimento\" e termina com o mesmo prefixo do ficheiro atual\r\n      console.log('üîç Procurando por pasta que:');\r\n      console.log('   - Contenha: \"Instru√ß√µes de trabalho procedimento\"');\r\n      console.log('   - Termine com: \"' + filePrefix + '\"');\r\n      console.log('üìÇ Pastas dispon√≠veis na pasta principal:');\r\n      mainFolderNode.children.forEach(node => {\r\n        if (node.type === 'folder') {\r\n          console.log(`   - \"${node.name}\" (toLowerCase: \"${node.name.toLowerCase()}\")`)\r\n          console.log(`     Cont√©m \"instru√ß√µes\": ${node.name.toLowerCase().includes('instru√ß√µes de trabalho procedimento')}`)\r\n          console.log(`     Termina com \"${filePrefix}\": ${node.name.endsWith(filePrefix)}`)\r\n        }\r\n      });\r\n      \r\n      let targetSubfolder = mainFolderNode.children.find(node => \r\n        node.type === 'folder' && \r\n        (node.name.toLowerCase().includes('instru√ß√µes de trabalho procedimento') ||\r\n         node.name.toLowerCase().includes('instrucoes de trabalho procedimento')) &&\r\n        node.name.endsWith(filePrefix)\r\n      );\r\n      \r\n      if (!targetSubfolder || !targetSubfolder.children) {\r\n        console.log(`‚ùå Subpasta de \"Instru√ß√µes de trabalho procedimento\" que termina com \"${filePrefix}\" n√£o encontrada ou vazia`);\r\n        \r\n        // Tenta uma busca alternativa mais flex√≠vel\r\n        console.log('üîÑ Tentando busca alternativa...');\r\n        const alternativeSubfolder = mainFolderNode.children.find(node => \r\n          node.type === 'folder' && \r\n          (node.name.toLowerCase().includes('instru√ß√µes de trabalho') || \r\n           node.name.toLowerCase().includes('instrucoes de trabalho')) &&\r\n          node.name.includes(filePrefix)\r\n        );\r\n        \r\n        if (alternativeSubfolder && alternativeSubfolder.children) {\r\n          console.log(`‚úÖ Pasta alternativa encontrada: \"${alternativeSubfolder.name}\"`);\r\n          targetSubfolder = alternativeSubfolder; // Usar a pasta alternativa\r\n        } else {\r\n          setInstrucoesDisponiveis([]);\r\n          setCurrentFolderPath(`${mainFolder}/Instru√ß√µes de trabalho procedimento ${filePrefix}`);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      console.log(`üìÇ Usando subpasta: ${targetSubfolder.name}`);\r\n      \r\n      // Fun√ß√£o recursiva para extrair todos os ficheiros da subpasta espec√≠fica\r\n      const extractAllFiles = (nodes, currentPath = '', folderName = '') => {\r\n        let allFiles = [];\r\n        \r\n        for (const node of nodes) {\r\n          const fullPath = currentPath ? `${currentPath}/${node.name}` : node.name;\r\n          \r\n          if (node.type === 'file') {\r\n            // Adiciona o ficheiro com seu caminho relativo dentro da subpasta\r\n            allFiles.push({\r\n              name: node.name,\r\n              path: fullPath,\r\n              folder: currentPath || folderName\r\n            });\r\n          } else if (node.type === 'folder' && node.children) {\r\n            // Recursivamente busca ficheiros nas subpastas\r\n            const subFiles = extractAllFiles(node.children, fullPath, folderName);\r\n            allFiles = allFiles.concat(subFiles);\r\n          }\r\n        }\r\n        \r\n        return allFiles;\r\n      };\r\n      \r\n      // Extrai todos os ficheiros da subpasta espec√≠fica\r\n      const allFiles = extractAllFiles(targetSubfolder.children, '', targetSubfolder.name);\r\n      console.log(`üìã ${allFiles.length} ficheiros encontrados na subpasta \"${targetSubfolder.name}\"`);\r\n      \r\n      // Filtra para mostrar apenas ficheiros (remove extens√µes para display)\r\n      const instrucoes = allFiles.map(file => ({\r\n        displayName: file.name,\r\n        fullPath: `${mainFolder}/${targetSubfolder.name}/${file.path}`,\r\n        folder: file.folder\r\n      }));\r\n      \r\n      setInstrucoesDisponiveis(instrucoes);\r\n      setCurrentFolderPath(`${mainFolder}/${targetSubfolder.name}`);\r\n      \r\n    } catch (error) {\r\n      console.error('üö® Erro na busca de Instru√ß√µes de trabalho procedimento:', error);\r\n      setInstrucoesDisponiveis([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Carrega instru√ß√µes quando o componente √© montado\r\n  useEffect(() => {\r\n    fetchInstrucoes();\r\n  }, [originalFilename]);\r\n\r\n  // Processa o valor atual para extrair instru√ß√µes j√° selecionadas\r\n  useEffect(() => {\r\n    if (currentValue) {\r\n      // Assume que as instru√ß√µes est√£o separadas por v√≠rgula ou quebra de linha\r\n      const instrucoes = currentValue\r\n        .split(/[,\\n]/)\r\n        .map(instrucao => instrucao.trim())\r\n        .filter(instrucao => instrucao.length > 0);\r\n      setInstrucoesSelecionadas(instrucoes);\r\n    } else {\r\n      setInstrucoesSelecionadas([]);\r\n    }\r\n  }, [currentValue]);\r\n\r\n  // Fun√ß√£o para fazer upload de nova instru√ß√£o\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!originalFilename) {\r\n      alert('N√£o foi poss√≠vel determinar a pasta de destino.');\r\n      return;\r\n    }\r\n\r\n    // Usa a subpasta espec√≠fica para upload\r\n    const parts = originalFilename.split('/');\r\n    const mainFolder = parts[0];\r\n    const currentFileName = parts[parts.length - 1];\r\n    const filePrefix = currentFileName.split(' ')[0];\r\n    \r\n    // Busca a subpasta correta para Instru√ß√µes de trabalho procedimento\r\n    const folderPath = `${mainFolder}/Instru√ß√µes de trabalho procedimento ${filePrefix}`;\r\n\r\n    setUploading(true);\r\n    \r\n    try {\r\n      console.log('Fazendo upload para:', folderPath);\r\n      \r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('folderPath', folderPath + '/');\r\n\r\n      const response = await fetch('http://192.168.1.219:8080/files/upload-document', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (response.ok) {\r\n        console.log('Upload realizado com sucesso');\r\n        // Recarrega a lista de instru√ß√µes\r\n        await fetchInstrucoes();\r\n        \r\n        // Adiciona automaticamente a instru√ß√£o aos selecionados\r\n        toggleInstrucao(file.name);\r\n        \r\n        alert('Instru√ß√£o de trabalho enviada com sucesso!');\r\n      } else {\r\n        console.error('Erro no upload:', response.statusText);\r\n        alert('Erro ao enviar instru√ß√£o de trabalho. Tente novamente.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro no upload:', error);\r\n      alert('Erro ao enviar instru√ß√£o de trabalho. Tente novamente.');\r\n    } finally {\r\n      setUploading(false);\r\n      // Limpa o input file\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  // Fun√ß√£o para alternar sele√ß√£o de instru√ß√£o\r\n  const toggleInstrucao = (instrucao) => {\r\n    let novasInstrucoes;\r\n    const instrucaoName = typeof instrucao === 'string' ? instrucao : instrucao.displayName;\r\n    \r\n    if (instrucoesSelecionadas.includes(instrucaoName)) {\r\n      // Remove a instru√ß√£o se j√° estiver selecionada\r\n      novasInstrucoes = instrucoesSelecionadas.filter(inst => inst !== instrucaoName);\r\n    } else {\r\n      // Adiciona a instru√ß√£o se n√£o estiver selecionada\r\n      novasInstrucoes = [...instrucoesSelecionadas, instrucaoName];\r\n    }\r\n    \r\n    setInstrucoesSelecionadas(novasInstrucoes);\r\n    \r\n    // Atualiza o valor no componente pai\r\n    const novoValor = novasInstrucoes.join('\\n');\r\n    onChange(novoValor);\r\n  };\r\n\r\n  // Fun√ß√£o para remover instru√ß√£o espec√≠fica (arquivo ou v√≠deo)\r\n  const removeInstrucao = (instrucao) => {\r\n    const novasInstrucoes = instrucoesSelecionadas.filter(inst => inst !== instrucao);\r\n    setInstrucoesSelecionadas(novasInstrucoes);\r\n    \r\n    // Atualiza o valor no componente pai\r\n    const novoValor = novasInstrucoes.join('\\n');\r\n    onChange(novoValor);\r\n  };\r\n\r\n  // Fun√ß√£o para download de instru√ß√£o\r\n  const handleDownload = (instrucaoName) => {\r\n    // Busca a instru√ß√£o na lista dispon√≠vel para obter o caminho completo\r\n    const instrucao = instrucoesDisponiveis.find(\r\n      inst => (typeof inst === 'object' ? inst.displayName : inst) === instrucaoName\r\n    );\r\n    \r\n    if (instrucao && typeof instrucao === 'object') {\r\n      const fullPath = instrucao.fullPath;\r\n      console.log('Fazendo download de:', fullPath);\r\n      \r\n      // URL para download\r\n      const downloadUrl = `http://192.168.1.219:8080/files/download/${encodeURIComponent(fullPath)}`;\r\n      \r\n      // Cria um link tempor√°rio para download\r\n      const link = document.createElement('a');\r\n      link.href = downloadUrl;\r\n      link.download = instrucaoName;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    }\r\n  };\r\n\r\n  // Fun√ß√£o para apagar instru√ß√£o da base de dados\r\n  const handleDelete = async (instrucaoName) => {\r\n    // Busca a instru√ß√£o na lista dispon√≠vel para obter o caminho completo\r\n    const instrucao = instrucoesDisponiveis.find(\r\n      inst => (typeof inst === 'object' ? inst.displayName : inst) === instrucaoName\r\n    );\r\n    \r\n    if (instrucao && typeof instrucao === 'object') {\r\n      const fullPath = instrucao.fullPath;\r\n      \r\n      // Confirma a a√ß√£o\r\n      const confirmDelete = window.confirm(`Tem certeza que deseja apagar permanentemente o arquivo \"${instrucaoName}\"?\\nEsta a√ß√£o n√£o pode ser desfeita.`);\r\n      \r\n      if (!confirmDelete) {\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        console.log('Apagando arquivo:', fullPath);\r\n        \r\n        const response = await fetch(`http://192.168.1.219:8080/files/delete/${encodeURIComponent(fullPath)}`, {\r\n          method: 'DELETE'\r\n        });\r\n        \r\n        if (response.ok) {\r\n          console.log('Arquivo apagado com sucesso');\r\n          \r\n          // Remove da lista de selecionados se estiver selecionado\r\n          if (instrucoesSelecionadas.includes(instrucaoName)) {\r\n            removeInstrucao(instrucaoName);\r\n          }\r\n          \r\n          // Recarrega a lista de instru√ß√µes\r\n          await fetchInstrucoes();\r\n          \r\n          alert('Arquivo apagado com sucesso!');\r\n        } else {\r\n          console.error('Erro ao apagar arquivo:', response.statusText);\r\n          alert('Erro ao apagar arquivo. Tente novamente.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao apagar arquivo:', error);\r\n        alert('Erro ao apagar arquivo. Tente novamente.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"instrucoes-trabalho-container\" style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n      {/* Input hidden para permitir extra√ß√£o do valor em PDFs */}\r\n      <input \r\n        type=\"hidden\" \r\n        value={currentValue || ''} \r\n        data-component=\"instrucoes-trabalho\"\r\n        readOnly\r\n      />\r\n      \r\n      {/* √Årea principal de exibi√ß√£o e sele√ß√£o */}\r\n      <div \r\n        style={{\r\n          minHeight: '50px',\r\n          height: '100%',\r\n          padding: '6px',\r\n          border: '1px solid #ccc',\r\n          borderRadius: '4px',\r\n          backgroundColor: isEditable \r\n            ? (instrucoesSelecionadas.length > 0 ? '#f9f9f9' : '#fff')\r\n            : '#f5f5f5',\r\n          fontSize: '11px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          cursor: (isEditable && canEdit) ? 'pointer' : 'default',\r\n          position: 'relative',\r\n          opacity: (isEditable && canEdit) ? 1 : 0.7\r\n        }}\r\n        onClick={(isEditable && canEdit) ? () => setShowModal(true) : undefined}\r\n        title={(isEditable && canEdit) ? \"Clique para abrir janela de sele√ß√£o de Instru√ß√µes de trabalho procedimento\" : \"\"}\r\n        data-current-value={currentValue || ''}\r\n      >\r\n        {/* Cabe√ßalho com contador */}\r\n        <div style={{\r\n          fontSize: '10px',\r\n          color: '#666',\r\n          borderBottom: instrucoesSelecionadas.length > 0 ? '1px solid #eee' : 'none',\r\n          paddingBottom: instrucoesSelecionadas.length > 0 ? '4px' : '0',\r\n          marginBottom: instrucoesSelecionadas.length > 0 ? '4px' : '0',\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center'\r\n        }}>\r\n          <span>Instru√ß√µes ({instrucoesSelecionadas.length})</span>\r\n          <span style={{ fontSize: '9px' }}>\r\n            üìÇ\r\n          </span>\r\n        </div>\r\n\r\n        {/* Lista de instru√ß√µes selecionadas */}\r\n        {instrucoesSelecionadas.length > 0 ? (\r\n          <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '2px' }}>\r\n            {instrucoesSelecionadas.map((instrucao, index) => {\r\n              const isVideo = isVideoLink(instrucao);\r\n              const displayName = isVideo ? getVideoTitle(instrucao) : instrucao;\r\n              \r\n              return (\r\n                <div \r\n                  key={index} \r\n                  style={{ \r\n                    display: 'flex', \r\n                    alignItems: 'center',\r\n                    gap: '4px',\r\n                    padding: '2px 0',\r\n                    borderBottom: index < instrucoesSelecionadas.length - 1 ? '1px solid #f0f0f0' : 'none'\r\n                  }}\r\n                >\r\n                  {/* √çcone baseado no tipo */}\r\n                  <span style={{ fontSize: '8px', minWidth: '12px' }}>\r\n                    {isVideo ? 'üé•' : 'üìÑ'}\r\n                  </span>\r\n                  \r\n                  {/* Nome truncado */}\r\n                  <span \r\n                    style={{ \r\n                      flex: 1, \r\n                      whiteSpace: 'nowrap', \r\n                      overflow: 'hidden', \r\n                      textOverflow: 'ellipsis',\r\n                      fontSize: '9px'\r\n                    }}\r\n                    title={displayName}\r\n                  >\r\n                    {displayName}\r\n                  </span>\r\n                  \r\n                  {/* Bot√µes de a√ß√£o */}\r\n                  {isEditable && (\r\n                    <div style={{ display: 'flex', gap: '2px' }}>                                 \r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          removeInstrucao(instrucao);\r\n                        }}\r\n                         style={{\r\n                        background: 'none',\r\n                        border: 'none',\r\n                        color: '#666',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px',\r\n                        padding: '0 4px',\r\n                        borderRadius: '2px',\r\n                        fontSize: '15px',\r\n                      }}\r\n                      title=\"Remover Instru√ß√£o\"\r\n                      onMouseEnter={(e) => e.target.style.backgroundColor = '#ffcdd2'}\r\n                      onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\r\n                    >\r\n                      √ó\r\n                    </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div style={{\r\n            flex: 1,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: '#999', \r\n            fontSize: '10px', \r\n            fontStyle: 'italic',\r\n            textAlign: 'center'\r\n          }}>\r\n            Clique para abrir janela<br/>Instru√ß√µes de trabalho procedimento\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {showModal && canEdit && (\r\n        <>\r\n          {/* Overlay de fundo */}\r\n          <div\r\n            style={{\r\n              position: 'fixed',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n              zIndex: 1000,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}\r\n            onClick={() => setShowModal(false)}\r\n          >\r\n            {/* Janela Modal */}\r\n            <div\r\n              style={{\r\n                backgroundColor: 'white',\r\n                borderRadius: '8px',\r\n                boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\r\n                width: '80%',\r\n                maxWidth: '800px',\r\n                maxHeight: '80%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                overflow: 'hidden'\r\n              }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Cabe√ßalho da Modal */}\r\n              <div style={{ \r\n                padding: '16px', \r\n                borderBottom: '1px solid #eee', \r\n                backgroundColor: '#f8f9fa',\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center'\r\n              }}>\r\n                <div>\r\n                  <h3 style={{ margin: 0, fontSize: '16px', fontWeight: 'bold' }}>\r\n                    Instru√ß√µes de Trabalho Procedimento\r\n                  </h3>\r\n                  <p style={{ margin: '4px 0 0 0', fontSize: '12px', color: '#666' }}>\r\n                    {currentFolderPath || 'Procurando...'}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={() => setShowModal(false)}\r\n                  style={{\r\n                    background: 'none',\r\n                    border: 'none',\r\n                    fontSize: '20px',\r\n                    cursor: 'pointer',\r\n                    color: '#666',\r\n                    padding: '4px 8px',\r\n                    borderRadius: '4px'\r\n                  }}\r\n                  onMouseEnter={(e) => e.target.style.backgroundColor = '#e9ecef'}\r\n                  onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\r\n                >\r\n                  √ó\r\n                </button>\r\n              </div>\r\n\r\n              {/* Conte√∫do da Modal */}\r\n              <div style={{ \r\n                flex: 1, \r\n                overflow: 'auto',\r\n                display: 'flex',\r\n                flexDirection: 'column'\r\n              }}>\r\n                {/* √Årea de upload */}\r\n                <div style={{ padding: '16px', borderBottom: '1px solid #eee', backgroundColor: '#f0f8f0' }}>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={handleFileUpload}\r\n                    disabled={uploading}\r\n                    style={{ display: 'none' }}\r\n                    id=\"upload-instrucao\"\r\n                  />\r\n                  <label\r\n                    htmlFor=\"upload-instrucao\"\r\n                    style={{\r\n                      display: 'inline-block',\r\n                      padding: '8px 16px',\r\n                      backgroundColor: uploading ? '#6c757d' : '#28a745',\r\n                      color: 'white',\r\n                      borderRadius: '4px',\r\n                      cursor: uploading ? 'not-allowed' : 'pointer',\r\n                      fontSize: '12px',\r\n                      border: 'none',\r\n                      fontWeight: 'bold'\r\n                    }}\r\n                  >\r\n                    {uploading ? 'A enviar...' : 'üìÅ Enviar Nova Instru√ß√£o'}\r\n                  </label>\r\n                  <div style={{ fontSize: '11px', color: '#666', marginTop: '6px' }}>\r\n                    Selecione qualquer tipo de ficheiro para enviar para esta subpasta\r\n                  </div>\r\n                </div>\r\n\r\n                {/* √Årea de links de v√≠deo */}\r\n                <div style={{ padding: '16px', borderBottom: '1px solid #eee', backgroundColor: '#f0f5ff' }}>\r\n                  {!showVideoForm ? (\r\n                    <div>\r\n                      <button\r\n                        onClick={() => setShowVideoForm(true)}\r\n                        style={{\r\n                          padding: '8px 16px',\r\n                          backgroundColor: '#1976d2',\r\n                          color: 'white',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer',\r\n                          fontSize: '12px',\r\n                          border: 'none',\r\n                          fontWeight: 'bold'\r\n                        }}\r\n                      >\r\n                        üé• Adicionar Link de V√≠deo\r\n                      </button>\r\n                      <div style={{ fontSize: '11px', color: '#666', marginTop: '6px' }}>\r\n                        Suporte: YouTube, Vimeo, Dailymotion, Twitch, Loom, Wistia\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <div style={{ marginBottom: '12px' }}>\r\n                        <label style={{ display: 'block', fontSize: '12px', marginBottom: '4px', fontWeight: 'bold' }}>\r\n                          URL do V√≠deo:\r\n                        </label>\r\n                        <input\r\n                          type=\"url\"\r\n                          value={videoLink}\r\n                          onChange={(e) => setVideoLink(e.target.value)}\r\n                          placeholder=\"https://www.youtube.com/watch?v=...\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '8px',\r\n                            fontSize: '12px',\r\n                            border: '1px solid #ccc',\r\n                            borderRadius: '4px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div style={{ marginBottom: '12px' }}>\r\n                        <label style={{ display: 'block', fontSize: '12px', marginBottom: '4px', fontWeight: 'bold' }}>\r\n                          T√≠tulo (opcional):\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={videoTitle}\r\n                          onChange={(e) => setVideoTitle(e.target.value)}\r\n                          placeholder=\"T√≠tulo personalizado do v√≠deo\"\r\n                          style={{\r\n                            width: '100%',\r\n                            padding: '8px',\r\n                            fontSize: '12px',\r\n                            border: '1px solid #ccc',\r\n                            borderRadius: '4px'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div style={{ display: 'flex', gap: '8px' }}>\r\n                        <button\r\n                          onClick={handleAddVideoLink}\r\n                          style={{\r\n                            padding: '8px 16px',\r\n                            backgroundColor: '#28a745',\r\n                            color: 'white',\r\n                            borderRadius: '4px',\r\n                            cursor: 'pointer',\r\n                            fontSize: '12px',\r\n                            border: 'none'\r\n                          }}\r\n                        >\r\n                          Adicionar\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setShowVideoForm(false);\r\n                            setVideoLink('');\r\n                            setVideoTitle('');\r\n                          }}\r\n                          style={{\r\n                            padding: '8px 16px',\r\n                            backgroundColor: '#6c757d',\r\n                            color: 'white',\r\n                            borderRadius: '4px',\r\n                            cursor: 'pointer',\r\n                            fontSize: '12px',\r\n                            border: 'none'\r\n                          }}\r\n                        >\r\n                          Cancelar\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Lista de instru√ß√µes */}\r\n                <div style={{ \r\n                  flex: 1, \r\n                  overflow: 'auto',\r\n                  minHeight: '300px',\r\n                  padding: '8px'\r\n                }}>\r\n                  {loading && (\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'center', \r\n                      justifyContent: 'center',\r\n                      height: '200px',\r\n                      fontSize: '14px', \r\n                      color: '#666' \r\n                    }}>\r\n                      üîÑ A carregar instru√ß√µes...\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {!loading && instrucoesDisponiveis.length === 0 && (\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'center', \r\n                      justifyContent: 'center',\r\n                      flexDirection: 'column',\r\n                      height: '200px',\r\n                      fontSize: '14px', \r\n                      color: '#666',\r\n                      textAlign: 'center'\r\n                    }}>\r\n                      <p>üì≠ Nenhuma instru√ß√£o encontrada na subpasta:</p>\r\n                      <code style={{ fontSize: '12px', backgroundColor: '#f5f5f5', padding: '4px 8px', borderRadius: '4px' }}>\r\n                        {currentFolderPath || 'Caminho n√£o determinado'}\r\n                      </code>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {!loading && instrucoesDisponiveis.map((instrucao, index) => {\r\n                    const instrucaoName = typeof instrucao === 'object' ? instrucao.displayName : instrucao;\r\n                    const instrucaoFolder = typeof instrucao === 'object' ? instrucao.folder : '';\r\n                    const isSelected = instrucoesSelecionadas.includes(instrucaoName);\r\n                    \r\n                    return (\r\n                      <div\r\n                        key={index}\r\n                        style={{\r\n                          padding: '12px',\r\n                          margin: '8px 0',\r\n                          fontSize: '13px',\r\n                          backgroundColor: isSelected ? '#e8f5e8' : '#f8f9fa',\r\n                          border: isSelected ? '2px solid #4caf50' : '1px solid #dee2e6',\r\n                          borderRadius: '6px',\r\n                          display: 'flex',\r\n                          flexDirection: 'column',\r\n                          gap: '8px',\r\n                          transition: 'all 0.2s ease'\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                          if (!isSelected) {\r\n                            e.currentTarget.style.backgroundColor = '#e9ecef';\r\n                            e.currentTarget.style.borderColor = '#adb5bd';\r\n                          }\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          if (!isSelected) {\r\n                            e.currentTarget.style.backgroundColor = '#f8f9fa';\r\n                            e.currentTarget.style.borderColor = '#dee2e6';\r\n                          }\r\n                        }}\r\n                      >\r\n                        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: '12px' }}>\r\n                          <div \r\n                            style={{ display: 'flex', alignItems: 'center', gap: '12px', flex: 1, cursor: 'pointer' }}\r\n                            onClick={() => toggleInstrucao(instrucaoName)}\r\n                          >\r\n                            <div style={{ \r\n                              width: '20px',\r\n                              height: '20px',\r\n                              borderRadius: '50%',\r\n                              backgroundColor: isSelected ? '#4caf50' : '#dee2e6',\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              justifyContent: 'center',\r\n                              fontSize: '12px',\r\n                              color: 'white',\r\n                              fontWeight: 'bold'\r\n                            }}>\r\n                              {isSelected ? '‚úì' : ''}\r\n                            </div>\r\n                            <div style={{ flex: 1 }}>\r\n                              <div style={{ fontWeight: 'bold', fontSize: '14px' }}>üìÑ {instrucaoName}</div>\r\n                              {instrucaoFolder && instrucaoFolder !== '(raiz)' && (\r\n                                <div style={{ fontSize: '11px', color: '#666', fontStyle: 'italic', marginTop: '2px' }}>\r\n                                  üìÅ Pasta: {instrucaoFolder}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          <div style={{ display: 'flex', gap: '8px' }}>\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleDownload(instrucaoName);\r\n                              }}\r\n                              style={{\r\n                                padding: '6px 12px',\r\n                                backgroundColor: '#388e3c',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '4px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '11px',\r\n                                fontWeight: 'bold'\r\n                              }}\r\n                              title=\"Descarregar instru√ß√£o\"\r\n                              onMouseEnter={(e) => e.target.style.backgroundColor = '#2e7d32'}\r\n                              onMouseLeave={(e) => e.target.style.backgroundColor = '#388e3c'}\r\n                            >\r\n                              ‚¨áÔ∏è Baixar\r\n                            </button>\r\n                            {isEditable && (\r\n                              <button\r\n                                onClick={(e) => {\r\n                                  e.stopPropagation();\r\n                                  handleDelete(instrucaoName);\r\n                                }}\r\n                                style={{\r\n                                  padding: '6px 12px',\r\n                                  backgroundColor: '#d32f2f',\r\n                                  color: 'white',\r\n                                  border: 'none',\r\n                                  borderRadius: '4px',\r\n                                  cursor: 'pointer',\r\n                                  fontSize: '11px',\r\n                                  fontWeight: 'bold'\r\n                                }}\r\n                                title=\"Apagar instru√ß√£o permanentemente\"\r\n                                onMouseEnter={(e) => e.target.style.backgroundColor = '#c62828'}\r\n                                onMouseLeave={(e) => e.target.style.backgroundColor = '#d32f2f'}\r\n                              >\r\n                                üóëÔ∏è Apagar\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n\r\n                {/* Rodap√© da Modal */}\r\n                <div style={{ \r\n                  padding: '16px', \r\n                  borderTop: '1px solid #eee', \r\n                  backgroundColor: '#f8f9fa',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center'\r\n                }}>\r\n                  <div style={{ fontSize: '12px', color: '#666' }}>\r\n                    {instrucoesSelecionadas.length} instru√ß√£o(√µes) selecionada(s)\r\n                  </div>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <button\r\n                      onClick={() => setShowModal(false)}\r\n                      style={{\r\n                        padding: '8px 16px',\r\n                        fontSize: '12px',\r\n                        backgroundColor: '#6c757d',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        borderRadius: '4px',\r\n                        cursor: 'pointer',\r\n                        fontWeight: 'bold'\r\n                      }}\r\n                    >\r\n                      Fechar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstrucoesTrabalho;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}