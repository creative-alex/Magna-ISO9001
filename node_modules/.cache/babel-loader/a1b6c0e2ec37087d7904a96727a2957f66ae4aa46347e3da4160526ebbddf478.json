{"ast":null,"code":"import React,{useContext}from'react';import{Navigate,useLocation}from'react-router-dom';import{UserContext}from'../../context/userContext';import LoadingPage from'../../pages/loading';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated,isLoading}=useContext(UserContext);const location=useLocation();// Mostrar loading enquanto verifica autenticação\nif(isLoading){return/*#__PURE__*/_jsx(LoadingPage,{});}// Se não estiver autenticado, redirecionar para login\nif(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",state:{from:location},replace:true});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","useContext","Navigate","useLocation","UserContext","LoadingPage","jsx","_jsx","ProtectedRoute","_ref","children","isAuthenticated","isLoading","location","to","state","from","replace"],"sources":["C:/Users/António Gonçalves/Desktop/Magna-ISO9001-Frontend/src/components/Auth/ProtectedRoute.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { UserContext } from '../../context/userContext';\r\nimport LoadingPage from '../../pages/loading';\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { isAuthenticated, isLoading } = useContext(UserContext);\r\n  const location = useLocation();\r\n\r\n  // Mostrar loading enquanto verifica autenticação\r\n  if (isLoading) {\r\n    return <LoadingPage />;\r\n  }\r\n\r\n  // Se não estiver autenticado, redirecionar para login\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,WAAW,KAAQ,2BAA2B,CACvD,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAAEE,eAAe,CAAEC,SAAU,CAAC,CAAGX,UAAU,CAACG,WAAW,CAAC,CAC9D,KAAM,CAAAS,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B;AACA,GAAIS,SAAS,CAAE,CACb,mBAAOL,IAAA,CAACF,WAAW,GAAE,CAAC,CACxB,CAEA;AACA,GAAI,CAACM,eAAe,CAAE,CACpB,mBAAOJ,IAAA,CAACL,QAAQ,EAACY,EAAE,CAAC,GAAG,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAEH,QAAS,CAAE,CAACI,OAAO,MAAE,CAAC,CAC/D,CAEA,MAAO,CAAAP,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}