{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useTutorial,TUTORIAL_TYPES}from'../../context/tutorialContext';import'./AIAssistant.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AIAssistant=_ref=>{let{fileTree,searchTerm,username,isAdmin,isSuperAdmin=false,processOwners={},onSuggestion}=_ref;const[isOpen,setIsOpen]=useState(false);const[userInput,setUserInput]=useState('');const[isTyping,setIsTyping]=useState(false);const[bubbleResponse,setBubbleResponse]=useState('');const[highlightedElements,setHighlightedElements]=useState([]);// Hook do tutorial persistente\nconst tutorial=useTutorial();// Funções para realce de elementos\nconst highlightElement=function(selector){let scrollIntoView=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;// Remover destaques anteriores\nremoveAllHighlights();const element=document.querySelector(selector);if(element){// Adicionar classe de destaque\nelement.classList.add('tutorial-highlight');setHighlightedElements([element]);// Scroll automático se necessário\nif(scrollIntoView){setTimeout(()=>{element.scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});},300);}console.log('✨ Elemento destacado:',selector);return element;}else{console.warn('⚠️ Elemento não encontrado para destacar:',selector);return null;}};const highlightMultipleElements=function(selectors){let scrollToFirst=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;removeAllHighlights();const elements=[];selectors.forEach(selector=>{const foundElements=document.querySelectorAll(selector);foundElements.forEach(element=>{element.classList.add('tutorial-highlight');elements.push(element);});});setHighlightedElements(elements);// Scroll para o primeiro elemento se necessário\nif(scrollToFirst&&elements.length>0){setTimeout(()=>{elements[0].scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});},300);}console.log('✨ Elementos destacados:',selectors,'Total:',elements.length);return elements;};const removeAllHighlights=()=>{// Remover destaques de elementos anteriores\nhighlightedElements.forEach(element=>{if(element&&element.classList){element.classList.remove('tutorial-highlight');}});// Também remover de qualquer elemento que possa ter ficado\nconst allHighlighted=document.querySelectorAll('.tutorial-highlight');allHighlighted.forEach(element=>{element.classList.remove('tutorial-highlight');});setHighlightedElements([]);};const scrollToElement=selector=>{const element=document.querySelector(selector);if(element){element.scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});return element;}return null;};// Sistema automático de detectores baseado no passo atual\nuseEffect(()=>{if(!tutorial.isActive){// Remover destaques se tutorial não estiver ativo\nremoveAllHighlights();return;}console.log('🎯 Configurando detectores para:',tutorial.tutorialState);const setupCurrentStepDetector=()=>{switch(tutorial.tutorialState){case tutorial.TUTORIAL_STATES.STARTING:// No passo inicial, não destacar nada ainda\nremoveAllHighlights();break;case tutorial.TUTORIAL_STATES.SELECT_PROCESS:// Destacar pastas de processos\nsetupProcessSelector();break;case tutorial.TUTORIAL_STATES.SELECT_PROCEDURE:// Destacar procedimentos/ficheiros\nsetTimeout(()=>checkProcedurePageAndAdvance(),500);setTimeout(()=>checkProcedurePageAndAdvance(),1500);setupProcedureSelector();break;case tutorial.TUTORIAL_STATES.NAVIGATE_TO_EDITOR:detectNavigationToEditor();break;case tutorial.TUTORIAL_STATES.CLICK_EDIT_BUTTON:// Destacar botão de editar\nsetupEditButtonDetector();break;case tutorial.TUTORIAL_STATES.SELECT_TABLE_ROW:// Destacar linhas da tabela\nsetupTableRowDetector();break;case tutorial.TUTORIAL_STATES.CLICK_DOCUMENTS:// Destacar células de documentos\nsetupDocumentsDetector();break;case tutorial.TUTORIAL_STATES.UPLOAD_NEW_DOCUMENT:// Destacar botão de upload\nsetupUploadDetector();break;}};const timeout=setTimeout(setupCurrentStepDetector,500);return()=>clearTimeout(timeout);},[tutorial.tutorialState,tutorial.isActive]);// Detectar mudanças de URL para reconfigurar detectores\nuseEffect(()=>{if(!tutorial.isActive)return;const handleURLChange=()=>{console.log('🔄 URL mudou, reconfigurando detectores...',window.location.pathname);// Reconfigurar detectores após mudança de página com delay maior para garantir que DOM carregou\nsetTimeout(()=>{if(tutorial.tutorialState===tutorial.TUTORIAL_STATES.SELECT_PROCESS){checkProcessPageAndAdvance();}else if(tutorial.tutorialState===tutorial.TUTORIAL_STATES.SELECT_PROCEDURE){checkProcedurePageAndAdvance();}},1500);// Aumentar delay para 1.5s\n};// Também detectar quando o DOM muda significativamente\nconst observer=new MutationObserver(mutations=>{const hasSignificantChanges=mutations.some(mutation=>mutation.type==='childList'&&mutation.addedNodes.length>0);if(hasSignificantChanges){console.log('🔄 DOM mudou, verificando contexto...');setTimeout(()=>{if(tutorial.tutorialState===tutorial.TUTORIAL_STATES.SELECT_PROCEDURE){checkProcedurePageAndAdvance();}},1000);}});observer.observe(document.body,{childList:true,subtree:true});window.addEventListener('popstate',handleURLChange);// Detectar navegação via History API\nconst originalPushState=window.history.pushState;const originalReplaceState=window.history.replaceState;window.history.pushState=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}originalPushState.apply(window.history,args);handleURLChange();};window.history.replaceState=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}originalReplaceState.apply(window.history,args);handleURLChange();};return()=>{observer.disconnect();window.removeEventListener('popstate',handleURLChange);window.history.pushState=originalPushState;window.history.replaceState=originalReplaceState;};},[tutorial.isActive,tutorial.tutorialState]);// Detectores individuais para cada passo\nconst checkProcessPageAndAdvance=()=>{var _document$querySelect,_document$querySelect2;// Verificar se já estamos numa página que mostra procedimentos de um processo específico\nconst currentPath=window.location.pathname;const processElements=document.querySelectorAll('.process-content, .procedure-list, .file-list, [data-process-id]');const hasProcessTitle=(_document$querySelect=document.querySelector('h1, h2, h3, .page-title'))===null||_document$querySelect===void 0?void 0:(_document$querySelect2=_document$querySelect.textContent)===null||_document$querySelect2===void 0?void 0:_document$querySelect2.includes('PROCESSO');console.log('🔍 Verificando página atual:',{currentPath,processElements:processElements.length,hasProcessTitle});// Se detectar que estamos numa página de processo com lista de procedimentos\nif(processElements.length>0||hasProcessTitle||currentPath.includes('process')||currentPath.includes('tableDisplay')){console.log('✅ Página de processo detectada! Avançando automaticamente...');setTimeout(()=>{tutorial.nextStep({selectedProcess:'Processo detectado automaticamente'});},1000);return true;}return false;};const checkProcedurePageAndAdvance=()=>{var _document$querySelect3,_document$querySelect4;// Verificar se já estamos numa página de procedimento específico\nconst currentPath=window.location.pathname;const templateElements=document.querySelectorAll('.template-container, .editor-container, .procedure-content, .tabela-template, [class*=\"template\"], table');const hasTemplateTitle=(_document$querySelect3=document.querySelector('h1, h2, h3, .page-title, .template-title'))===null||_document$querySelect3===void 0?void 0:(_document$querySelect4=_document$querySelect3.textContent)===null||_document$querySelect4===void 0?void 0:_document$querySelect4.includes('Template');const hasTable=document.querySelector('table, .table, .tabela');const isTemplatePage=currentPath.includes('template')||currentPath.includes('Template')||currentPath.includes('TabelaTemplate');console.log('🔍 Verificando página de procedimento:',{currentPath,templateElements:templateElements.length,hasTemplateTitle,hasTable:!!hasTable,isTemplatePage});// Se detectar que estamos numa página de template/procedimento\nif(templateElements.length>0||hasTemplateTitle||hasTable||isTemplatePage){console.log('✅ Página de procedimento detectada! Avançando automaticamente...');setTimeout(()=>{tutorial.nextStep({selectedProcedure:'Procedimento detectado automaticamente'});},1000);return true;}return false;};// Detectores individuais para cada passo\nconst setupProcessSelector=()=>{// Seletores específicos para a estrutura do selectPdf.jsx\nconst folders=document.querySelectorAll('.folder-header');// Destacar APENAS processos onde o utilizador é proprietário\nconst ownedProcesses=[];folders.forEach(folder=>{var _folderNameSpan$textC,_folder$textContent;const folderNameSpan=folder.querySelector('.folder-name');const folderName=folderNameSpan?(_folderNameSpan$textC=folderNameSpan.textContent)===null||_folderNameSpan$textC===void 0?void 0:_folderNameSpan$textC.trim():(_folder$textContent=folder.textContent)===null||_folder$textContent===void 0?void 0:_folder$textContent.trim();console.log('📁 Verificando pasta:',folderName,'Owner:',processOwners[folderName]);// Verificar se o utilizador é dono deste processo\nif(processOwners[folderName]===username||isSuperAdmin){console.log('✅ Destacando pasta própria:',folderName);folder.classList.add('tutorial-highlight');ownedProcesses.push(folder);}});console.log('📁 Processos próprios encontrados:',ownedProcesses.length);if(ownedProcesses.length>0){setHighlightedElements(ownedProcesses);// Scroll para o primeiro processo próprio\nownedProcesses[0].scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}folders.forEach(folder=>{const handleClick=e=>{console.log('✅ Processo selecionado!');removeAllHighlights();tutorial.nextStep({selectedProcess:folder.textContent||'Processo'});folder.removeEventListener('click',handleClick);};folder.addEventListener('click',handleClick,{once:true});});};const setupProcedureSelector=()=>{const procedures=document.querySelectorAll('.file-item, .table-item, [data-filename], a[href*=\"template\"]');console.log('📄 Detectores de procedimento:',procedures.length);// Destacar todos os procedimentos/ficheiros\nif(procedures.length>0){const selectors=['.file-item','.table-item','[data-filename]','a[href*=\"template\"]'];highlightMultipleElements(selectors,true);}procedures.forEach(procedure=>{const handleClick=e=>{console.log('✅ Procedimento selecionado!');removeAllHighlights();tutorial.nextStep({selectedProcedure:procedure.textContent||'Procedimento'});procedure.removeEventListener('click',handleClick);};procedure.addEventListener('click',handleClick,{once:true});});};const detectNavigationToEditor=()=>{console.log('🔄 Detectando navegação...');if(window.location.pathname.includes('template')||document.querySelector('.template-container, .editor-container')){setTimeout(()=>{console.log('✅ Página de edição detectada!');tutorial.nextStep({navigatedToEditor:true});},1000);}else{const checkNavigation=setInterval(()=>{if(window.location.pathname.includes('template')||document.querySelector('.template-container, .editor-container')){clearInterval(checkNavigation);console.log('✅ Navegação detectada!');tutorial.nextStep({navigatedToEditor:true});}},1000);setTimeout(()=>clearInterval(checkNavigation),10000);}};const setupEditButtonDetector=()=>{const editButtons=document.querySelectorAll('button, .btn, [role=\"button\"]');console.log('✏️ Detectores de edição:',editButtons.length);// Encontrar e destacar botões de editar\nconst editButtonsFiltered=Array.from(editButtons).filter(button=>{var _button$textContent;const text=((_button$textContent=button.textContent)===null||_button$textContent===void 0?void 0:_button$textContent.toLowerCase())||'';return text.includes('editar')||text.includes('edit')||button.type==='submit';});if(editButtonsFiltered.length>0){// Destacar apenas botões de edição relevantes\neditButtonsFiltered.forEach(button=>{button.classList.add('tutorial-highlight');});setHighlightedElements(editButtonsFiltered);// Scroll para o primeiro botão\neditButtonsFiltered[0].scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}editButtons.forEach(button=>{var _button$textContent2;const text=((_button$textContent2=button.textContent)===null||_button$textContent2===void 0?void 0:_button$textContent2.toLowerCase())||'';if(text.includes('editar')||text.includes('edit')||button.type==='submit'){const handleClick=e=>{console.log('✅ Edição ativada!');removeAllHighlights();tutorial.nextStep({editActivated:true});button.removeEventListener('click',handleClick);};button.addEventListener('click',handleClick,{once:true});}});};const setupTableRowDetector=()=>{const rows=document.querySelectorAll('tr, .table-row, td');console.log('📋 Detectores de linha:',rows.length);// NÃO destacar tabelas - apenas detectar cliques\nrows.forEach(row=>{const handleClick=e=>{if(row.tagName==='TH'||row.closest('thead'))return;console.log('✅ Linha selecionada!');removeAllHighlights();tutorial.nextStep({rowSelected:true});row.removeEventListener('click',handleClick);};row.addEventListener('click',handleClick,{once:true});});};const setupDocumentsDetector=()=>{const docElements=document.querySelectorAll('td, .cell, .documentos-associados, [data-documentos]');console.log('📎 Detectores de documentos:',docElements.length);// Encontrar e destacar células de documentos\nconst docCells=Array.from(docElements).filter(element=>{var _element$textContent,_element$className;const text=((_element$textContent=element.textContent)===null||_element$textContent===void 0?void 0:_element$textContent.toLowerCase())||'';const className=((_element$className=element.className)===null||_element$className===void 0?void 0:_element$className.toLowerCase())||'';return text.includes('documento')||text.includes('anexo')||className.includes('document');});if(docCells.length>0){docCells.forEach(cell=>{cell.classList.add('tutorial-highlight');});setHighlightedElements(docCells);// Scroll para a primeira célula de documentos\ndocCells[0].scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}docElements.forEach(element=>{var _element$textContent2,_element$className2;const text=((_element$textContent2=element.textContent)===null||_element$textContent2===void 0?void 0:_element$textContent2.toLowerCase())||'';const className=((_element$className2=element.className)===null||_element$className2===void 0?void 0:_element$className2.toLowerCase())||'';if(text.includes('documento')||text.includes('anexo')||className.includes('document')){const handleClick=e=>{console.log('✅ Documentos clicados!');removeAllHighlights();tutorial.nextStep({documentsClicked:true});element.removeEventListener('click',handleClick);};element.addEventListener('click',handleClick,{once:true});}});};const setupUploadDetector=()=>{const uploadElements=document.querySelectorAll('button, .btn, input[type=\"file\"], [class*=\"upload\"]');console.log('📤 Detectores de upload:',uploadElements.length);// Encontrar e destacar botões/elementos de upload\nconst uploadButtonsFiltered=Array.from(uploadElements).filter(element=>{var _element$textContent3;const text=((_element$textContent3=element.textContent)===null||_element$textContent3===void 0?void 0:_element$textContent3.toLowerCase())||'';return text.includes('enviar')||text.includes('upload')||text.includes('novo documento')||element.type==='file';});if(uploadButtonsFiltered.length>0){uploadButtonsFiltered.forEach(element=>{element.classList.add('tutorial-highlight');});setHighlightedElements(uploadButtonsFiltered);// Scroll para o primeiro elemento de upload\nuploadButtonsFiltered[0].scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}uploadElements.forEach(element=>{var _element$textContent4;const text=((_element$textContent4=element.textContent)===null||_element$textContent4===void 0?void 0:_element$textContent4.toLowerCase())||'';if(text.includes('enviar')||text.includes('upload')||text.includes('novo documento')||element.type==='file'){const handleClick=e=>{console.log('✅ Upload iniciado! Tutorial completo! 🎉');removeAllHighlights();tutorial.completeTutorial();element.removeEventListener('click',handleClick);};element.addEventListener('click',handleClick,{once:true});}});};// Função para obter mensagem do tutorial atual\nconst getCurrentTutorialMessage=()=>{if(!tutorial.isActive)return null;const stepData=tutorial.getCurrentStepMessage();if(!stepData)return'Tutorial em progresso...';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px',fontSize:'14px'},children:stepData.title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',lineHeight:'1.4',whiteSpace:'pre-line'},children:stepData.message}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px',padding:'6px 10px',backgroundColor:'#f3f4f6',borderRadius:'6px',fontSize:'12px',fontStyle:'italic',color:'#6b7280'},children:stepData.action}),stepData.showStartButton&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('🚀 Utilizador clicou em \"Começar\"');tutorial.nextStep();},style:{marginTop:'12px',padding:'8px 16px',backgroundColor:'#22c55e',color:'white',border:'none',borderRadius:'6px',fontSize:'13px',fontWeight:'bold',cursor:'pointer',width:'100%'},onMouseOver:e=>e.target.style.backgroundColor='#16a34a',onMouseOut:e=>e.target.style.backgroundColor='#22c55e',children:\"\\uD83D\\uDE80 Come\\xE7ar Tutorial\"})]});};// Processar pergunta simples no balão\nconst handleBubbleQuestion=()=>{if(!userInput.trim())return;setIsTyping(true);const question=userInput.toLowerCase();setTimeout(()=>{let response='';let actionType=null;// Verificação explícita para perguntas sobre como criar processos\nif(question.includes('processo')||question.includes('processos')){if(isSuperAdmin){response='🏢 Como Super Admin, pode criar novos processos:\\n• 📋 Definir estrutura\\n• 👤 Atribuir responsáveis\\n• 📄 Configurar templates\\n• 🔧 Definir permissões';actionType='processManagement';}else{response='🔐 Apenas Super Admins podem criar novos processos. Contacte um Super Admin se precisar de um novo processo.';actionType='permissions';}}else if(question.includes('pesquis')||question.includes('procur')||question.includes('encontr')){response='🔍 Use a barra de pesquisa no topo para encontrar ficheiros rapidamente!';actionType='search';}else if(question.includes('pasta')||question.includes('abrir')||question.includes('naveg')){response='📁 Clique nas pastas \"PROCESSO X:\" para expandir e ver os ficheiros.';actionType='folder';}else if(question.includes('criar')||question.includes('novo')||question.includes('adicion')||question.includes('procedimento')){if(isSuperAdmin){response='⚡ Como Super Admin, pode criar:\\n• ➕ Novos procedimentos\\n• 👥 Novos utilizadores\\n• 🏢 Novos processos\\n• 🔧 Configurações do sistema';actionType='superAdminCreate';}else{response='👉➕ Use o botão + ao lado das pastas para criar novos procedimentos.';actionType='create';}}else if(question.includes('utilizador')||question.includes('user')||question.includes('conta')){if(isSuperAdmin){response='👥 Como Super Admin, pode gerir utilizadores:\\n• ➕ Criar novos utilizadores\\n• ✏️ Editar perfis\\n• 🔒 Gerir permissões\\n• 🗑️ Remover utilizadores';actionType='userManagement';}else{response='🔐 Apenas Super Admins podem gerir utilizadores.';actionType='permissions';}}else if(question.includes('processo')&&(question.includes('criar')||question.includes('novo'))){if(isSuperAdmin){response='🏢 Como Super Admin, pode criar novos processos:\\n• 📋 Definir estrutura\\n• 👤 Atribuir responsáveis\\n• 📄 Configurar templates\\n• 🔧 Definir permissões';actionType='processManagement';}else{response='🔐 Apenas Super Admins podem criar novos processos. Contacte um Super Admin se precisar de um novo processo.';actionType='permissions';}}else if(question.includes('permiss')||question.includes('edit')||question.includes('posso')){let capabilities=[];if(isSuperAdmin){capabilities=['👑 Super Admin - Acesso total:','• Criar/editar todos os processos','• Gerir utilizadores e permissões','• Configurar sistema','• Criar novos processos','• Acesso a todas as funcionalidades'];}else if(isAdmin){capabilities=['🔧 Admin - Acesso avançado:','• Editar todos os processos','• Ver todos os documentos','• Gerir procedimentos','• Não pode criar utilizadores/processos'];}else{// Verifica se o usuário tem processos atribuídos\nconst userHasProcess=Object.values(processOwners).includes(username);capabilities=['👤 Utilizador - Acesso limitado:',userHasProcess?'• Editar apenas processos atribuídos (realçados a amarelo)':'• Não tem processos atribuídos para editar','• Ver documentos permitidos','• Anexar documentos'];}response=capabilities.join('\\n');actionType='permissions';}else if(question.includes('anexo')||question.includes('documento')||question.includes('ficheiro')||question.includes('anexar')){response='📎 Vou iniciar o tutorial de anexos! Siga os 6 passos para aprender a anexar documentos corretamente.';actionType='attachment';setTimeout(()=>{tutorial.startTutorial();},1500);}else if(question.includes('tutorial')||question.includes('ajuda')||question.includes('como')){response='🎯 Iniciando tutorial de anexos! Vou guiá-lo através do processo completo passo a passo.';actionType='tutorial';setTimeout(()=>{tutorial.startTutorial();},1500);}else{response=\"\\uD83E\\uDD16 Ah, n\\xE3o te consigo ajudar com essa pergunta... mas eis onde consigo dar uma m\\xE3o:\\n                     \\u2022 Pesquisa\\n                     \\u2022 Navega\\xE7\\xE3o\\n                     \\u2022 Cria\\xE7\\xE3o de procedimentos\\n                     \\u2022 Permiss\\xF5es\\n                     \\u2022 Anexos\\n                     \\n                     Diz-me em qual destas \\xE1reas precisas de ajuda!\";actionType='general';}setBubbleResponse(response);setIsTyping(false);setUserInput('');if(actionType&&actionType!=='attachment'&&actionType!=='tutorial'){setupResponseDetector(actionType);}else if(actionType==='general'){setTimeout(()=>setBubbleResponse(''),15000);}},1000);};// Lidar com Enter no input do balão\nconst handleBubbleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleBubbleQuestion();}};// Configurar detectores para limpar resposta quando ação é executada\nconst setupResponseDetector=actionType=>{const clearResponse=()=>setBubbleResponse('');switch(actionType){case'search':const searchInput=document.querySelector('input[type=\"text\"]');if(searchInput){// Destacar barra de pesquisa\nhighlightElement('input[type=\"text\"]',true);const handleSearchInteraction=()=>{clearResponse();removeAllHighlights();searchInput.removeEventListener('focus',handleSearchInteraction);searchInput.removeEventListener('input',handleSearchInteraction);};searchInput.addEventListener('focus',handleSearchInteraction);searchInput.addEventListener('input',handleSearchInteraction);}break;case'folder':// Seletores específicos para a estrutura do selectPdf.jsx\nconst folders=document.querySelectorAll('.folder-header');console.log('📁 Detectores de navegação:',folders.length);// Destacar APENAS processos onde o utilizador é proprietário\nconst ownedFolders=[];folders.forEach(folder=>{var _folderNameSpan$textC2,_folder$textContent2;const folderNameSpan=folder.querySelector('.folder-name');const folderName=folderNameSpan?(_folderNameSpan$textC2=folderNameSpan.textContent)===null||_folderNameSpan$textC2===void 0?void 0:_folderNameSpan$textC2.trim():(_folder$textContent2=folder.textContent)===null||_folder$textContent2===void 0?void 0:_folder$textContent2.trim();console.log('📁 Navegação - verificando pasta:',folderName,'Owner:',processOwners[folderName]);// Verificar se o utilizador é dono deste processo\nif(processOwners[folderName]===username||isSuperAdmin){console.log('✅ Destacando pasta própria para navegação:',folderName);folder.classList.add('tutorial-highlight');ownedFolders.push(folder);}});if(ownedFolders.length>0){setHighlightedElements(ownedFolders);}folders.forEach(folder=>{const handleFolderClick=()=>{clearResponse();removeAllHighlights();folder.removeEventListener('click',handleFolderClick);};folder.addEventListener('click',handleFolderClick);});break;case'create':const createButtons=document.querySelectorAll('.create-table-btn, [data-action=\"create\"], .add-process-btn, .plus-btn');if(createButtons.length>0){// Destacar botões de criar com seta à esquerda\ncreateButtons.forEach(button=>{button.classList.add('tutorial-highlight');button.classList.add('tutorial-highlight-left');});setHighlightedElements([...createButtons]);}createButtons.forEach(button=>{const handleCreateClick=()=>{clearResponse();removeAllHighlights();button.removeEventListener('click',handleCreateClick);};button.addEventListener('click',handleCreateClick);});break;default:setTimeout(clearResponse,15000);}};// Limpar highlights quando componente desmontar\nuseEffect(()=>{return()=>{removeAllHighlights();};},[]);const toggleWidget=()=>{setIsOpen(!isOpen);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ai-assistant\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"ai-assistant__toggle\",onClick:toggleWidget,title:\"Assistente de navega\\xE7\\xE3o\",children:\"\\uD83E\\uDD16\"}),tutorial.isActive&&/*#__PURE__*/_jsxs(\"div\",{className:\"ai-assistant__bubble ai-assistant__bubble--info\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"ai-assistant__bubble-close\",onClick:()=>{tutorial.stopTutorial();removeAllHighlights();},title:\"Fechar tutorial\",children:\"\\u2715\"}),getCurrentTutorialMessage()]}),isOpen&&!tutorial.isActive&&/*#__PURE__*/_jsxs(\"div\",{className:\"ai-assistant__bubble\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"ai-assistant__bubble-close\",onClick:()=>setIsOpen(false),title:\"Fechar\",children:\"\\u2715\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDD16 Assistente ISO 9001\"}),/*#__PURE__*/_jsx(\"br\",{}),bubbleResponse?/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',padding:'8px',backgroundColor:'#f0fdf4',borderRadius:'8px',fontSize:'13px',whiteSpace:'pre-line'},children:bubbleResponse}):/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',fontSize:'13px',color:'#666'},children:isTyping?'⌨️ A processar...':'Como posso ajudar?'}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userInput,onChange:e=>setUserInput(e.target.value),onKeyPress:handleBubbleKeyPress,placeholder:\"Digite sua pergunta...\",style:{width:'100%',padding:'6px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'12px'},disabled:isTyping})})]})]})]});};export default AIAssistant;","map":{"version":3,"names":["React","useState","useEffect","useRef","useTutorial","TUTORIAL_TYPES","jsx","_jsx","jsxs","_jsxs","AIAssistant","_ref","fileTree","searchTerm","username","isAdmin","isSuperAdmin","processOwners","onSuggestion","isOpen","setIsOpen","userInput","setUserInput","isTyping","setIsTyping","bubbleResponse","setBubbleResponse","highlightedElements","setHighlightedElements","tutorial","highlightElement","selector","scrollIntoView","arguments","length","undefined","removeAllHighlights","element","document","querySelector","classList","add","setTimeout","behavior","block","inline","console","log","warn","highlightMultipleElements","selectors","scrollToFirst","elements","forEach","foundElements","querySelectorAll","push","remove","allHighlighted","scrollToElement","isActive","tutorialState","setupCurrentStepDetector","TUTORIAL_STATES","STARTING","SELECT_PROCESS","setupProcessSelector","SELECT_PROCEDURE","checkProcedurePageAndAdvance","setupProcedureSelector","NAVIGATE_TO_EDITOR","detectNavigationToEditor","CLICK_EDIT_BUTTON","setupEditButtonDetector","SELECT_TABLE_ROW","setupTableRowDetector","CLICK_DOCUMENTS","setupDocumentsDetector","UPLOAD_NEW_DOCUMENT","setupUploadDetector","timeout","clearTimeout","handleURLChange","window","location","pathname","checkProcessPageAndAdvance","observer","MutationObserver","mutations","hasSignificantChanges","some","mutation","type","addedNodes","observe","body","childList","subtree","addEventListener","originalPushState","history","pushState","originalReplaceState","replaceState","_len","args","Array","_key","apply","_len2","_key2","disconnect","removeEventListener","_document$querySelect","_document$querySelect2","currentPath","processElements","hasProcessTitle","textContent","includes","nextStep","selectedProcess","_document$querySelect3","_document$querySelect4","templateElements","hasTemplateTitle","hasTable","isTemplatePage","selectedProcedure","folders","ownedProcesses","folder","_folderNameSpan$textC","_folder$textContent","folderNameSpan","folderName","trim","handleClick","e","once","procedures","procedure","navigatedToEditor","checkNavigation","setInterval","clearInterval","editButtons","editButtonsFiltered","from","filter","button","_button$textContent","text","toLowerCase","_button$textContent2","editActivated","rows","row","tagName","closest","rowSelected","docElements","docCells","_element$textContent","_element$className","className","cell","_element$textContent2","_element$className2","documentsClicked","uploadElements","uploadButtonsFiltered","_element$textContent3","_element$textContent4","completeTutorial","getCurrentTutorialMessage","stepData","getCurrentStepMessage","children","style","fontWeight","marginBottom","fontSize","title","lineHeight","whiteSpace","message","marginTop","padding","backgroundColor","borderRadius","fontStyle","color","action","showStartButton","onClick","border","cursor","width","onMouseOver","target","onMouseOut","handleBubbleQuestion","question","response","actionType","capabilities","userHasProcess","Object","values","join","startTutorial","setupResponseDetector","handleBubbleKeyPress","key","shiftKey","preventDefault","clearResponse","searchInput","handleSearchInteraction","ownedFolders","_folderNameSpan$textC2","_folder$textContent2","handleFolderClick","createButtons","handleCreateClick","toggleWidget","stopTutorial","value","onChange","onKeyPress","placeholder","disabled"],"sources":["C:/Users/alex_/Magna-ISO9001/src/components/AIAssistant/AIAssistant.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useTutorial, TUTORIAL_TYPES } from '../../context/tutorialContext';\r\nimport './AIAssistant.css';\r\n\r\nconst AIAssistant = ({ \r\n  fileTree, \r\n  searchTerm, \r\n  username, \r\n  isAdmin, \r\n  isSuperAdmin = false,\r\n  processOwners = {},\r\n  onSuggestion \r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [userInput, setUserInput] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [bubbleResponse, setBubbleResponse] = useState('');\r\n  const [highlightedElements, setHighlightedElements] = useState([]);\r\n\r\n  // Hook do tutorial persistente\r\n  const tutorial = useTutorial();\r\n\r\n  // Funções para realce de elementos\r\n  const highlightElement = (selector, scrollIntoView = true) => {\r\n    // Remover destaques anteriores\r\n    removeAllHighlights();\r\n    \r\n    const element = document.querySelector(selector);\r\n    if (element) {\r\n      // Adicionar classe de destaque\r\n      element.classList.add('tutorial-highlight');\r\n      setHighlightedElements([element]);\r\n      \r\n      // Scroll automático se necessário\r\n      if (scrollIntoView) {\r\n        setTimeout(() => {\r\n          element.scrollIntoView({\r\n            behavior: 'smooth',\r\n            block: 'center',\r\n            inline: 'nearest'\r\n          });\r\n        }, 300);\r\n      }\r\n      \r\n      console.log('✨ Elemento destacado:', selector);\r\n      return element;\r\n    } else {\r\n      console.warn('⚠️ Elemento não encontrado para destacar:', selector);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const highlightMultipleElements = (selectors, scrollToFirst = true) => {\r\n    removeAllHighlights();\r\n    \r\n    const elements = [];\r\n    selectors.forEach(selector => {\r\n      const foundElements = document.querySelectorAll(selector);\r\n      foundElements.forEach(element => {\r\n        element.classList.add('tutorial-highlight');\r\n        elements.push(element);\r\n      });\r\n    });\r\n    \r\n    setHighlightedElements(elements);\r\n    \r\n    // Scroll para o primeiro elemento se necessário\r\n    if (scrollToFirst && elements.length > 0) {\r\n      setTimeout(() => {\r\n        elements[0].scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'center',\r\n          inline: 'nearest'\r\n        });\r\n      }, 300);\r\n    }\r\n    \r\n    console.log('✨ Elementos destacados:', selectors, 'Total:', elements.length);\r\n    return elements;\r\n  };\r\n\r\n  const removeAllHighlights = () => {\r\n    // Remover destaques de elementos anteriores\r\n    highlightedElements.forEach(element => {\r\n      if (element && element.classList) {\r\n        element.classList.remove('tutorial-highlight');\r\n      }\r\n    });\r\n    \r\n    // Também remover de qualquer elemento que possa ter ficado\r\n    const allHighlighted = document.querySelectorAll('.tutorial-highlight');\r\n    allHighlighted.forEach(element => {\r\n      element.classList.remove('tutorial-highlight');\r\n    });\r\n    \r\n    setHighlightedElements([]);\r\n  };\r\n\r\n  const scrollToElement = (selector) => {\r\n    const element = document.querySelector(selector);\r\n    if (element) {\r\n      element.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'center',\r\n        inline: 'nearest'\r\n      });\r\n      return element;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // Sistema automático de detectores baseado no passo atual\r\n  useEffect(() => {\r\n    if (!tutorial.isActive) {\r\n      // Remover destaques se tutorial não estiver ativo\r\n      removeAllHighlights();\r\n      return;\r\n    }\r\n    \r\n    console.log('🎯 Configurando detectores para:', tutorial.tutorialState);\r\n\r\n    const setupCurrentStepDetector = () => {\r\n      switch (tutorial.tutorialState) {\r\n        case tutorial.TUTORIAL_STATES.STARTING:\r\n          // No passo inicial, não destacar nada ainda\r\n          removeAllHighlights();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.SELECT_PROCESS:\r\n          // Destacar pastas de processos\r\n          setupProcessSelector();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.SELECT_PROCEDURE:\r\n          // Destacar procedimentos/ficheiros\r\n          setTimeout(() => checkProcedurePageAndAdvance(), 500);\r\n          setTimeout(() => checkProcedurePageAndAdvance(), 1500);\r\n          setupProcedureSelector();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.NAVIGATE_TO_EDITOR:\r\n          detectNavigationToEditor();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.CLICK_EDIT_BUTTON:\r\n          // Destacar botão de editar\r\n          setupEditButtonDetector();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.SELECT_TABLE_ROW:\r\n          // Destacar linhas da tabela\r\n          setupTableRowDetector();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.CLICK_DOCUMENTS:\r\n          // Destacar células de documentos\r\n          setupDocumentsDetector();\r\n          break;\r\n          \r\n        case tutorial.TUTORIAL_STATES.UPLOAD_NEW_DOCUMENT:\r\n          // Destacar botão de upload\r\n          setupUploadDetector();\r\n          break;\r\n      }\r\n    };\r\n\r\n    const timeout = setTimeout(setupCurrentStepDetector, 500);\r\n    return () => clearTimeout(timeout);\r\n  }, [tutorial.tutorialState, tutorial.isActive]);\r\n\r\n  // Detectar mudanças de URL para reconfigurar detectores\r\n  useEffect(() => {\r\n    if (!tutorial.isActive) return;\r\n    \r\n    const handleURLChange = () => {\r\n      console.log('🔄 URL mudou, reconfigurando detectores...', window.location.pathname);\r\n      // Reconfigurar detectores após mudança de página com delay maior para garantir que DOM carregou\r\n      setTimeout(() => {\r\n        if (tutorial.tutorialState === tutorial.TUTORIAL_STATES.SELECT_PROCESS) {\r\n          checkProcessPageAndAdvance();\r\n        } else if (tutorial.tutorialState === tutorial.TUTORIAL_STATES.SELECT_PROCEDURE) {\r\n          checkProcedurePageAndAdvance();\r\n        }\r\n      }, 1500); // Aumentar delay para 1.5s\r\n    };\r\n\r\n    // Também detectar quando o DOM muda significativamente\r\n    const observer = new MutationObserver((mutations) => {\r\n      const hasSignificantChanges = mutations.some(mutation => \r\n        mutation.type === 'childList' && mutation.addedNodes.length > 0\r\n      );\r\n      \r\n      if (hasSignificantChanges) {\r\n        console.log('🔄 DOM mudou, verificando contexto...');\r\n        setTimeout(() => {\r\n          if (tutorial.tutorialState === tutorial.TUTORIAL_STATES.SELECT_PROCEDURE) {\r\n            checkProcedurePageAndAdvance();\r\n          }\r\n        }, 1000);\r\n      }\r\n    });\r\n\r\n    observer.observe(document.body, { childList: true, subtree: true });\r\n\r\n    window.addEventListener('popstate', handleURLChange);\r\n    \r\n    // Detectar navegação via History API\r\n    const originalPushState = window.history.pushState;\r\n    const originalReplaceState = window.history.replaceState;\r\n    \r\n    window.history.pushState = function(...args) {\r\n      originalPushState.apply(window.history, args);\r\n      handleURLChange();\r\n    };\r\n    \r\n    window.history.replaceState = function(...args) {\r\n      originalReplaceState.apply(window.history, args);\r\n      handleURLChange();\r\n    };\r\n\r\n    return () => {\r\n      observer.disconnect();\r\n      window.removeEventListener('popstate', handleURLChange);\r\n      window.history.pushState = originalPushState;\r\n      window.history.replaceState = originalReplaceState;\r\n    };\r\n  }, [tutorial.isActive, tutorial.tutorialState]);\r\n\r\n  // Detectores individuais para cada passo\r\n  const checkProcessPageAndAdvance = () => {\r\n    // Verificar se já estamos numa página que mostra procedimentos de um processo específico\r\n    const currentPath = window.location.pathname;\r\n    const processElements = document.querySelectorAll('.process-content, .procedure-list, .file-list, [data-process-id]');\r\n    const hasProcessTitle = document.querySelector('h1, h2, h3, .page-title')?.textContent?.includes('PROCESSO');\r\n    \r\n    console.log('🔍 Verificando página atual:', { currentPath, processElements: processElements.length, hasProcessTitle });\r\n    \r\n    // Se detectar que estamos numa página de processo com lista de procedimentos\r\n    if (processElements.length > 0 || hasProcessTitle || \r\n        currentPath.includes('process') || currentPath.includes('tableDisplay')) {\r\n      \r\n      console.log('✅ Página de processo detectada! Avançando automaticamente...');\r\n      setTimeout(() => {\r\n        tutorial.nextStep({ selectedProcess: 'Processo detectado automaticamente' });\r\n      }, 1000);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const checkProcedurePageAndAdvance = () => {\r\n    // Verificar se já estamos numa página de procedimento específico\r\n    const currentPath = window.location.pathname;\r\n    const templateElements = document.querySelectorAll('.template-container, .editor-container, .procedure-content, .tabela-template, [class*=\"template\"], table');\r\n    const hasTemplateTitle = document.querySelector('h1, h2, h3, .page-title, .template-title')?.textContent?.includes('Template');\r\n    const hasTable = document.querySelector('table, .table, .tabela');\r\n    const isTemplatePage = currentPath.includes('template') || currentPath.includes('Template') || currentPath.includes('TabelaTemplate');\r\n    \r\n    console.log('🔍 Verificando página de procedimento:', { \r\n      currentPath, \r\n      templateElements: templateElements.length, \r\n      hasTemplateTitle, \r\n      hasTable: !!hasTable,\r\n      isTemplatePage \r\n    });\r\n    \r\n    // Se detectar que estamos numa página de template/procedimento\r\n    if (templateElements.length > 0 || hasTemplateTitle || hasTable || isTemplatePage) {\r\n      \r\n      console.log('✅ Página de procedimento detectada! Avançando automaticamente...');\r\n      setTimeout(() => {\r\n        tutorial.nextStep({ selectedProcedure: 'Procedimento detectado automaticamente' });\r\n      }, 1000);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Detectores individuais para cada passo\r\n  const setupProcessSelector = () => {\r\n    // Seletores específicos para a estrutura do selectPdf.jsx\r\n    const folders = document.querySelectorAll('.folder-header');\r\n    \r\n    // Destacar APENAS processos onde o utilizador é proprietário\r\n    const ownedProcesses = [];\r\n    folders.forEach(folder => {\r\n      const folderNameSpan = folder.querySelector('.folder-name');\r\n      const folderName = folderNameSpan ? folderNameSpan.textContent?.trim() : folder.textContent?.trim();\r\n      console.log('📁 Verificando pasta:', folderName, 'Owner:', processOwners[folderName]);\r\n      \r\n      // Verificar se o utilizador é dono deste processo\r\n      if (processOwners[folderName] === username || isSuperAdmin) {\r\n        console.log('✅ Destacando pasta própria:', folderName);\r\n        folder.classList.add('tutorial-highlight');\r\n        ownedProcesses.push(folder);\r\n      }\r\n    });\r\n    \r\n    console.log('📁 Processos próprios encontrados:', ownedProcesses.length);\r\n    \r\n    if (ownedProcesses.length > 0) {\r\n      setHighlightedElements(ownedProcesses);\r\n      // Scroll para o primeiro processo próprio\r\n      ownedProcesses[0].scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'center',\r\n        inline: 'nearest'\r\n      });\r\n    }\r\n    \r\n    folders.forEach(folder => {\r\n      const handleClick = (e) => {\r\n        console.log('✅ Processo selecionado!');\r\n        removeAllHighlights();\r\n        tutorial.nextStep({ selectedProcess: folder.textContent || 'Processo' });\r\n        folder.removeEventListener('click', handleClick);\r\n      };\r\n      folder.addEventListener('click', handleClick, { once: true });\r\n    });\r\n  };\r\n\r\n  const setupProcedureSelector = () => {\r\n    const procedures = document.querySelectorAll('.file-item, .table-item, [data-filename], a[href*=\"template\"]');\r\n    console.log('📄 Detectores de procedimento:', procedures.length);\r\n    \r\n    // Destacar todos os procedimentos/ficheiros\r\n    if (procedures.length > 0) {\r\n      const selectors = ['.file-item', '.table-item', '[data-filename]', 'a[href*=\"template\"]'];\r\n      highlightMultipleElements(selectors, true);\r\n    }\r\n    \r\n    procedures.forEach(procedure => {\r\n      const handleClick = (e) => {\r\n        console.log('✅ Procedimento selecionado!');\r\n        removeAllHighlights();\r\n        tutorial.nextStep({ selectedProcedure: procedure.textContent || 'Procedimento' });\r\n        procedure.removeEventListener('click', handleClick);\r\n      };\r\n      procedure.addEventListener('click', handleClick, { once: true });\r\n    });\r\n  };\r\n\r\n  const detectNavigationToEditor = () => {\r\n    console.log('🔄 Detectando navegação...');\r\n    \r\n    if (window.location.pathname.includes('template') || \r\n        document.querySelector('.template-container, .editor-container')) {\r\n      setTimeout(() => {\r\n        console.log('✅ Página de edição detectada!');\r\n        tutorial.nextStep({ navigatedToEditor: true });\r\n      }, 1000);\r\n    } else {\r\n      const checkNavigation = setInterval(() => {\r\n        if (window.location.pathname.includes('template') || \r\n            document.querySelector('.template-container, .editor-container')) {\r\n          clearInterval(checkNavigation);\r\n          console.log('✅ Navegação detectada!');\r\n          tutorial.nextStep({ navigatedToEditor: true });\r\n        }\r\n      }, 1000);\r\n      \r\n      setTimeout(() => clearInterval(checkNavigation), 10000);\r\n    }\r\n  };\r\n\r\n  const setupEditButtonDetector = () => {\r\n    const editButtons = document.querySelectorAll('button, .btn, [role=\"button\"]');\r\n    console.log('✏️ Detectores de edição:', editButtons.length);\r\n    \r\n    // Encontrar e destacar botões de editar\r\n    const editButtonsFiltered = Array.from(editButtons).filter(button => {\r\n      const text = button.textContent?.toLowerCase() || '';\r\n      return text.includes('editar') || text.includes('edit') || button.type === 'submit';\r\n    });\r\n    \r\n    if (editButtonsFiltered.length > 0) {\r\n      // Destacar apenas botões de edição relevantes\r\n      editButtonsFiltered.forEach(button => {\r\n        button.classList.add('tutorial-highlight');\r\n      });\r\n      setHighlightedElements(editButtonsFiltered);\r\n      \r\n      // Scroll para o primeiro botão\r\n      editButtonsFiltered[0].scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'center',\r\n        inline: 'nearest'\r\n      });\r\n    }\r\n    \r\n    editButtons.forEach(button => {\r\n      const text = button.textContent?.toLowerCase() || '';\r\n      if (text.includes('editar') || text.includes('edit') || button.type === 'submit') {\r\n        const handleClick = (e) => {\r\n          console.log('✅ Edição ativada!');\r\n          removeAllHighlights();\r\n          tutorial.nextStep({ editActivated: true });\r\n          button.removeEventListener('click', handleClick);\r\n        };\r\n        button.addEventListener('click', handleClick, { once: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  const setupTableRowDetector = () => {\r\n    const rows = document.querySelectorAll('tr, .table-row, td');\r\n    console.log('📋 Detectores de linha:', rows.length);\r\n    \r\n    // NÃO destacar tabelas - apenas detectar cliques\r\n    rows.forEach(row => {\r\n      const handleClick = (e) => {\r\n        if (row.tagName === 'TH' || row.closest('thead')) return;\r\n        console.log('✅ Linha selecionada!');\r\n        removeAllHighlights();\r\n        tutorial.nextStep({ rowSelected: true });\r\n        row.removeEventListener('click', handleClick);\r\n      };\r\n      row.addEventListener('click', handleClick, { once: true });\r\n    });\r\n  };\r\n\r\n  const setupDocumentsDetector = () => {\r\n    const docElements = document.querySelectorAll('td, .cell, .documentos-associados, [data-documentos]');\r\n    console.log('📎 Detectores de documentos:', docElements.length);\r\n    \r\n    // Encontrar e destacar células de documentos\r\n    const docCells = Array.from(docElements).filter(element => {\r\n      const text = element.textContent?.toLowerCase() || '';\r\n      const className = element.className?.toLowerCase() || '';\r\n      return text.includes('documento') || text.includes('anexo') || className.includes('document');\r\n    });\r\n    \r\n    if (docCells.length > 0) {\r\n      docCells.forEach(cell => {\r\n        cell.classList.add('tutorial-highlight');\r\n      });\r\n      setHighlightedElements(docCells);\r\n      \r\n      // Scroll para a primeira célula de documentos\r\n      docCells[0].scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'center',\r\n        inline: 'nearest'\r\n      });\r\n    }\r\n    \r\n    docElements.forEach(element => {\r\n      const text = element.textContent?.toLowerCase() || '';\r\n      const className = element.className?.toLowerCase() || '';\r\n      \r\n      if (text.includes('documento') || text.includes('anexo') || \r\n          className.includes('document')) {\r\n        const handleClick = (e) => {\r\n          console.log('✅ Documentos clicados!');\r\n          removeAllHighlights();\r\n          tutorial.nextStep({ documentsClicked: true });\r\n          element.removeEventListener('click', handleClick);\r\n        };\r\n        element.addEventListener('click', handleClick, { once: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  const setupUploadDetector = () => {\r\n    const uploadElements = document.querySelectorAll('button, .btn, input[type=\"file\"], [class*=\"upload\"]');\r\n    console.log('📤 Detectores de upload:', uploadElements.length);\r\n    \r\n    // Encontrar e destacar botões/elementos de upload\r\n    const uploadButtonsFiltered = Array.from(uploadElements).filter(element => {\r\n      const text = element.textContent?.toLowerCase() || '';\r\n      return text.includes('enviar') || text.includes('upload') || \r\n             text.includes('novo documento') || element.type === 'file';\r\n    });\r\n    \r\n    if (uploadButtonsFiltered.length > 0) {\r\n      uploadButtonsFiltered.forEach(element => {\r\n        element.classList.add('tutorial-highlight');\r\n      });\r\n      setHighlightedElements(uploadButtonsFiltered);\r\n      \r\n      // Scroll para o primeiro elemento de upload\r\n      uploadButtonsFiltered[0].scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'center',\r\n        inline: 'nearest'\r\n      });\r\n    }\r\n    \r\n    uploadElements.forEach(element => {\r\n      const text = element.textContent?.toLowerCase() || '';\r\n      if (text.includes('enviar') || text.includes('upload') || \r\n          text.includes('novo documento') || element.type === 'file') {\r\n        const handleClick = (e) => {\r\n          console.log('✅ Upload iniciado! Tutorial completo! 🎉');\r\n          removeAllHighlights();\r\n          tutorial.completeTutorial();\r\n          element.removeEventListener('click', handleClick);\r\n        };\r\n        element.addEventListener('click', handleClick, { once: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  // Função para obter mensagem do tutorial atual\r\n  const getCurrentTutorialMessage = () => {\r\n    if (!tutorial.isActive) return null;\r\n    \r\n    const stepData = tutorial.getCurrentStepMessage();\r\n    if (!stepData) return 'Tutorial em progresso...';\r\n    \r\n    return (\r\n      <div>\r\n        <div style={{ fontWeight: 'bold', marginBottom: '8px', fontSize: '14px' }}>\r\n          {stepData.title}\r\n        </div>\r\n        <div style={{ fontSize: '13px', lineHeight: '1.4', whiteSpace: 'pre-line' }}>\r\n          {stepData.message}\r\n        </div>\r\n        <div style={{ \r\n          marginTop: '10px', \r\n          padding: '6px 10px', \r\n          backgroundColor: '#f3f4f6', \r\n          borderRadius: '6px',\r\n          fontSize: '12px',\r\n          fontStyle: 'italic',\r\n          color: '#6b7280'\r\n        }}>\r\n          {stepData.action}\r\n        </div>\r\n        \r\n        {/* Botão \"Começar\" apenas no passo inicial */}\r\n        {stepData.showStartButton && (\r\n          <button\r\n            onClick={() => {\r\n              console.log('🚀 Utilizador clicou em \"Começar\"');\r\n              tutorial.nextStep();\r\n            }}\r\n            style={{\r\n              marginTop: '12px',\r\n              padding: '8px 16px',\r\n              backgroundColor: '#22c55e',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '6px',\r\n              fontSize: '13px',\r\n              fontWeight: 'bold',\r\n              cursor: 'pointer',\r\n              width: '100%'\r\n            }}\r\n            onMouseOver={(e) => e.target.style.backgroundColor = '#16a34a'}\r\n            onMouseOut={(e) => e.target.style.backgroundColor = '#22c55e'}\r\n          >\r\n            🚀 Começar Tutorial\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Processar pergunta simples no balão\r\n  const handleBubbleQuestion = () => {\r\n    if (!userInput.trim()) return;\r\n    \r\n    setIsTyping(true);\r\n    const question = userInput.toLowerCase();\r\n    \r\n    setTimeout(() => {\r\n      let response = '';\r\n      let actionType = null;\r\n      // Verificação explícita para perguntas sobre como criar processos\r\n      if (\r\n        (question.includes('processo') || question.includes('processos'))\r\n      ) {\r\n        if (isSuperAdmin) {\r\n          response = '🏢 Como Super Admin, pode criar novos processos:\\n• 📋 Definir estrutura\\n• 👤 Atribuir responsáveis\\n• 📄 Configurar templates\\n• 🔧 Definir permissões';\r\n          actionType = 'processManagement';\r\n        } else {\r\n          response = '🔐 Apenas Super Admins podem criar novos processos. Contacte um Super Admin se precisar de um novo processo.';\r\n          actionType = 'permissions';\r\n        }\r\n      } else if (question.includes('pesquis') || question.includes('procur') || question.includes('encontr')) {\r\n        response = '🔍 Use a barra de pesquisa no topo para encontrar ficheiros rapidamente!';\r\n        actionType = 'search';\r\n      } else if (question.includes('pasta') || question.includes('abrir') || question.includes('naveg')) {\r\n        response = '📁 Clique nas pastas \"PROCESSO X:\" para expandir e ver os ficheiros.';\r\n        actionType = 'folder';\r\n      } else if (question.includes('criar') || question.includes('novo') || question.includes('adicion') || question.includes('procedimento')) {\r\n        if (isSuperAdmin) {\r\n          response = '⚡ Como Super Admin, pode criar:\\n• ➕ Novos procedimentos\\n• 👥 Novos utilizadores\\n• 🏢 Novos processos\\n• 🔧 Configurações do sistema';\r\n          actionType = 'superAdminCreate';\r\n        } else {\r\n          response = '👉➕ Use o botão + ao lado das pastas para criar novos procedimentos.';\r\n          actionType = 'create';\r\n        }\r\n      } else if (question.includes('utilizador') || question.includes('user') || question.includes('conta')) {\r\n        if (isSuperAdmin) {\r\n          response = '👥 Como Super Admin, pode gerir utilizadores:\\n• ➕ Criar novos utilizadores\\n• ✏️ Editar perfis\\n• 🔒 Gerir permissões\\n• 🗑️ Remover utilizadores';\r\n          actionType = 'userManagement';\r\n        } else {\r\n          response = '🔐 Apenas Super Admins podem gerir utilizadores.';\r\n          actionType = 'permissions';\r\n        }\r\n      } else if (question.includes('processo') && (question.includes('criar') || question.includes('novo'))) {\r\n        if (isSuperAdmin) {\r\n          response = '🏢 Como Super Admin, pode criar novos processos:\\n• 📋 Definir estrutura\\n• 👤 Atribuir responsáveis\\n• 📄 Configurar templates\\n• 🔧 Definir permissões';\r\n          actionType = 'processManagement';\r\n        } else {\r\n          response = '🔐 Apenas Super Admins podem criar novos processos. Contacte um Super Admin se precisar de um novo processo.';\r\n          actionType = 'permissions';\r\n        }\r\n      } else if (question.includes('permiss') || question.includes('edit') || question.includes('posso')) {\r\n          let capabilities = [];\r\n          if (isSuperAdmin) {\r\n            capabilities = [\r\n              '👑 Super Admin - Acesso total:',\r\n              '• Criar/editar todos os processos',\r\n              '• Gerir utilizadores e permissões',\r\n              '• Configurar sistema',\r\n              '• Criar novos processos',\r\n              '• Acesso a todas as funcionalidades'\r\n            ];\r\n          } else if (isAdmin) {\r\n            capabilities = [\r\n              '🔧 Admin - Acesso avançado:',\r\n              '• Editar todos os processos',\r\n              '• Ver todos os documentos',\r\n              '• Gerir procedimentos',\r\n              '• Não pode criar utilizadores/processos'\r\n            ];\r\n          } else {\r\n            // Verifica se o usuário tem processos atribuídos\r\n            const userHasProcess = Object.values(processOwners).includes(username);\r\n            capabilities = [\r\n              '👤 Utilizador - Acesso limitado:',\r\n              userHasProcess\r\n                ? '• Editar apenas processos atribuídos (realçados a amarelo)'\r\n                : '• Não tem processos atribuídos para editar',\r\n              '• Ver documentos permitidos',\r\n              '• Anexar documentos'\r\n            ];\r\n          }\r\n          response = capabilities.join('\\n');\r\n          actionType = 'permissions';\r\n      } else if (question.includes('anexo') || question.includes('documento') || question.includes('ficheiro') || question.includes('anexar')) {\r\n        response = '📎 Vou iniciar o tutorial de anexos! Siga os 6 passos para aprender a anexar documentos corretamente.';\r\n        actionType = 'attachment';\r\n        setTimeout(() => {\r\n          tutorial.startTutorial();\r\n        }, 1500);\r\n      } else if (question.includes('tutorial') || question.includes('ajuda') || question.includes('como')) {\r\n        response = '🎯 Iniciando tutorial de anexos! Vou guiá-lo através do processo completo passo a passo.';\r\n        actionType = 'tutorial';\r\n        setTimeout(() => {\r\n          tutorial.startTutorial();\r\n        }, 1500);\r\n      } else {\r\n        response = `🤖 Ah, não te consigo ajudar com essa pergunta... mas eis onde consigo dar uma mão:\r\n                     • Pesquisa\r\n                     • Navegação\r\n                     • Criação de procedimentos\r\n                     • Permissões\r\n                     • Anexos\r\n                     \r\n                     Diz-me em qual destas áreas precisas de ajuda!`;\r\n        actionType = 'general';\r\n      }\r\n      \r\n      setBubbleResponse(response);\r\n      setIsTyping(false);\r\n      setUserInput('');\r\n      \r\n      if (actionType && actionType !== 'attachment' && actionType !== 'tutorial') {\r\n        setupResponseDetector(actionType);\r\n      } else if (actionType === 'general') {\r\n        setTimeout(() => setBubbleResponse(''), 15000);\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  // Lidar com Enter no input do balão\r\n  const handleBubbleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleBubbleQuestion();\r\n    }\r\n  };\r\n\r\n  // Configurar detectores para limpar resposta quando ação é executada\r\n  const setupResponseDetector = (actionType) => {\r\n    const clearResponse = () => setBubbleResponse('');\r\n    \r\n    switch (actionType) {\r\n      case 'search':\r\n        const searchInput = document.querySelector('input[type=\"text\"]');\r\n        if (searchInput) {\r\n          // Destacar barra de pesquisa\r\n          highlightElement('input[type=\"text\"]', true);\r\n          \r\n          const handleSearchInteraction = () => {\r\n            clearResponse();\r\n            removeAllHighlights();\r\n            searchInput.removeEventListener('focus', handleSearchInteraction);\r\n            searchInput.removeEventListener('input', handleSearchInteraction);\r\n          };\r\n          searchInput.addEventListener('focus', handleSearchInteraction);\r\n          searchInput.addEventListener('input', handleSearchInteraction);\r\n        }\r\n        break;\r\n        \r\n      case 'folder':\r\n        // Seletores específicos para a estrutura do selectPdf.jsx\r\n        const folders = document.querySelectorAll('.folder-header');\r\n        console.log('📁 Detectores de navegação:', folders.length);\r\n        \r\n        // Destacar APENAS processos onde o utilizador é proprietário\r\n        const ownedFolders = [];\r\n        folders.forEach(folder => {\r\n          const folderNameSpan = folder.querySelector('.folder-name');\r\n          const folderName = folderNameSpan ? folderNameSpan.textContent?.trim() : folder.textContent?.trim();\r\n          console.log('📁 Navegação - verificando pasta:', folderName, 'Owner:', processOwners[folderName]);\r\n          \r\n          // Verificar se o utilizador é dono deste processo\r\n          if (processOwners[folderName] === username || isSuperAdmin) {\r\n            console.log('✅ Destacando pasta própria para navegação:', folderName);\r\n            folder.classList.add('tutorial-highlight');\r\n            ownedFolders.push(folder);\r\n          }\r\n        });\r\n        \r\n        if (ownedFolders.length > 0) {\r\n          setHighlightedElements(ownedFolders);\r\n        }\r\n        \r\n        folders.forEach(folder => {\r\n          const handleFolderClick = () => {\r\n            clearResponse();\r\n            removeAllHighlights();\r\n            folder.removeEventListener('click', handleFolderClick);\r\n          };\r\n          folder.addEventListener('click', handleFolderClick);\r\n        });\r\n        break;\r\n        \r\n      case 'create':\r\n        const createButtons = document.querySelectorAll('.create-table-btn, [data-action=\"create\"], .add-process-btn, .plus-btn');\r\n        if (createButtons.length > 0) {\r\n          // Destacar botões de criar com seta à esquerda\r\n          createButtons.forEach(button => {\r\n            button.classList.add('tutorial-highlight');\r\n            button.classList.add('tutorial-highlight-left');\r\n          });\r\n          setHighlightedElements([...createButtons]);\r\n        }\r\n        \r\n        createButtons.forEach(button => {\r\n          const handleCreateClick = () => {\r\n            clearResponse();\r\n            removeAllHighlights();\r\n            button.removeEventListener('click', handleCreateClick);\r\n          };\r\n          button.addEventListener('click', handleCreateClick);\r\n        });\r\n        break;\r\n        \r\n      default:\r\n        setTimeout(clearResponse, 15000);\r\n    }\r\n  };\r\n\r\n  // Limpar highlights quando componente desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      removeAllHighlights();\r\n    };\r\n  }, []);\r\n\r\n  const toggleWidget = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ai-assistant\">\r\n      {/* Botão flutuante */}\r\n      <button \r\n        className=\"ai-assistant__toggle\"\r\n        onClick={toggleWidget}\r\n        title=\"Assistente de navegação\"\r\n      >\r\n        🤖\r\n      </button>\r\n\r\n      {/* Balão de fala do tutorial */}\r\n      {tutorial.isActive && (\r\n        <div className=\"ai-assistant__bubble ai-assistant__bubble--info\">\r\n          <button \r\n            className=\"ai-assistant__bubble-close\"\r\n            onClick={() => {\r\n              tutorial.stopTutorial();\r\n              removeAllHighlights();\r\n            }}\r\n            title=\"Fechar tutorial\"\r\n          >\r\n            ✕\r\n          </button>\r\n          {getCurrentTutorialMessage()}\r\n        </div>\r\n      )}\r\n\r\n      {/* Balão de fala simples para mensagens normais */}\r\n      {isOpen && !tutorial.isActive && (\r\n        <div className=\"ai-assistant__bubble\">\r\n          <button \r\n            className=\"ai-assistant__bubble-close\"\r\n            onClick={() => setIsOpen(false)}\r\n            title=\"Fechar\"\r\n          >\r\n            ✕\r\n          </button>\r\n          <div>\r\n            <strong>🤖 Assistente ISO 9001</strong>\r\n            <br />\r\n            {bubbleResponse ? (\r\n              <div style={{ marginTop: '8px', padding: '8px', backgroundColor: '#f0fdf4', borderRadius: '8px', fontSize: '13px', whiteSpace: 'pre-line' }}>\r\n                {bubbleResponse}\r\n              </div>\r\n            ) : (\r\n              <div style={{ marginTop: '8px', fontSize: '13px', color: '#666' }}>\r\n                {isTyping ? '⌨️ A processar...' : 'Como posso ajudar?'}\r\n              </div>\r\n            )}\r\n            \r\n            <div style={{ marginTop: '10px' }}>\r\n              <input\r\n                type=\"text\"\r\n                value={userInput}\r\n                onChange={(e) => setUserInput(e.target.value)}\r\n                onKeyPress={handleBubbleKeyPress}\r\n                placeholder=\"Digite sua pergunta...\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '6px',\r\n                  border: '1px solid #ddd',\r\n                  borderRadius: '4px',\r\n                  fontSize: '12px'\r\n                }}\r\n                disabled={isTyping}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIAssistant;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}